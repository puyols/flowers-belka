{{ header }}{# column_left #}
<!-- setting -->
{% set sld_input_attrb = false %}
{% set show_link_slider = false %}
{% if for_otlad['show_link_slider'] %}
    {% set show_link_slider = true %}
{% endif %}
<!-- korect -->
{% set save_popup = true %}
{% set ajax_err = true %}
{% set displ_gen_id = true %}
<!-- / korect -->
<div id="content"><!-- id="content" -->
  <div class="page-header">
    <div id="parent_blok">
        <div id="loader_img"></div>
        <div id="popup_save"></div>
        <div id="modal_window"></div>
    </div>
    <div class="container-fluid">
      <div id="fix_blok_pull" class="pull-right">
          <div class="inlin_blok">
            {% if bloc_bott %}
            <span id="primenit" data-toggle="tooltip" title="{{ button_apply }}" class="btn btn-info"><i class="fa fa-undo"></i></span>
                {% if bloc_bott_save %}
                <button type="submit" name="save" form="form" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary knopi"><i class="fa fa-save"></i></button>
                {% endif %}
            {% endif %}
            <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default knopi"><i class="fa fa-reply"></i></a>
          </div>
      </div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb['href'] }}">{{ breadcrumb['text'] }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container-fluid"><!-- class="container-fluid" 2 -->
  {% set it = 1 %}
    <div id="error_warning">
        {% if error_warning %}
        <div tabindex="{{ it }}" class="alert alert-danger"><i class="fa fa-exclamation-circle"></i>  {{ error_warning }}
          <button type="button" class="close" data-dismiss="alert">&times;</button>
        </div>
        {% endif %}
    </div>
    <div class="panel panel-default div_panel"><!-- class="panel panel-default" -->
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-pencil"></i> {{ text_edit }}</h3>
        <div id="ssuu">
            {% if success %}
            <div class="seo_infa alert alert-success" style="margin-bottom:0px; padding:5px 17px; min-width:160px;"><i class="fa fa-check-circle"></i> {{ success }}
                <button type="button" class="close" data-dismiss="alert">&nbsp;&times;</button>
            </div>
            {% endif %}
        </div>
      </div>
    <div class="panel-body div_form"><!-- class="panel-body" -->
    <!-- start module -->
    {% if shabl != 'seo_url' %}
    <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form" class="form-horizontal">
    {% endif %}
        <ul class="nav nav-tabs" id="tabs">
        <!-- foreach_nav -->
        {% for key, val in tab_nav %}
            {% set cls_act = '' %}
            {% set suff = '' %}
            {% set blok = '' %}
            {% if shabl == 'base' and key == 0 %}<!-- if_nav1-->
                {% set cls_act = 'class="active"' %}
            {% elseif shabl == val['id'] %}
                {% set cls_act = 'class="active"' %}
                {% set suff = '_' %}
            {% endif %}<!-- end if_nav1 -->
            {% if val['id'] in arr_tab %}<!-- if_nav2-->
                {% set blok = '_' %}
            {% endif %}<!-- end if_nav2 -->
            <li id="{{ val['id'] }}{{ suff }}" {{ cls_act }}><a href="#{{ val['href'] }}" data-toggle="tab" class="linc{{ suff }}{{ blok }}" id="{{ key }}">{{ val['txt'] }}</a></li>
        {% endfor %}<!-- end foreach_nav -->
        </ul>
    <div class="tab-content"><!-- tab-content -->
    {% if shabl == 'seo_url' %}<!-- #seo_url -->
    <div id="tab-{{ shabl }}">
        <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form" class="form-horizontal"><!-- form_filter_vier_seo_url -->
            <div class="form-group"><!-- group -->
                <div class="sett_main"><!-- seo_url -->
                    {% set pole = 'seo_url' %}
                    <label class="control-label">
                        <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_url_set[pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    </label>
                </div><!-- / seo_url -->
                <div class="sett_main ram_dash"><!-- after_slash -->
                    {% set pole = 'after_slash' %}
                    {% set chek = '' %}
                    {% if filter_vier_url_set[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <label class="control-label">
                        <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                        <input type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    </label>
                </div><!-- / after_slash -->
                <div class="sett_main"><!-- lang_translit -->
                    {% set pole = 'lang_translit' %}
                    <label class="control-label" for="{{ pole }}">
                        <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                      <select name="filter_vier_url_set[{{ pole }}]" id="{{ pole }}" class="select_fv">
                        {% for colum in languages %}
                            {% set selec = '' %}
                            {% if filter_vier_url_set[pole] and filter_vier_url_set[pole] == colum['language_id'] %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ colum['language_id'] }}" {{ selec }}>{{ colum['code'] }}</option>
                        {% endfor %}
                      </select>
                    </label>
                </div><!-- /lang_translit -->
                <!-- separators -->
                {% set class_error = null %}
                {% if error_class_separators %}
                    {% set class_error = 'error_param' %}
                {% endif %}
                {% set value_separ = null %}
                {% if filter_vier_url_set['separators'] %}
                    {% set value_separ = filter_vier_url_set['separators'] %}
                {% endif %}
                <div id="error_class_separators" class="sett_main posit {{ class_error }}">
                    <label class="control-label" for="input_separators">
                        <span data-toggle="tooltip" title="{{ help_separators }}">{{ legnd_separators }}</span>
                        <input class="input_center input_width_40" id="input_separators" type="text" name="filter_vier_url_set[separators]" value="{{ value_separ }}" />
                    </label>
                </div><!-- /separators -->
            </div><!-- group -->
            <div class="form-group">
                <div class="sett_main">
                    {% set pole = 'sort_url' %}
                    {% set chek = '' %}
                    {% if filter_vier_url_set[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <label class="control-label">
                        <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                        <input type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    </label>
                </div>
                <div class="sett_main">
                    {% set pole = 'sort_get_param' %}
                    {% if filter_vier_url_set[pole] %}
                        <div id="get_param" class="ram_dash">
                        {% for param_get in filter_vier_url_set[pole] %}
                            <span class="get_param">{{ lang_get[param_get] }}
                                <input type="hidden" name="filter_vier_url_set[sort_get_param][]" value="{{ param_get }}" />
                            </span>
                        {% endfor %}
                        </div>
                    {% endif %}
                    <script>$('#get_param').sortable();</script>
                </div>
                <div class="sett_main">
                    {% set pole = 'sort_url_in_param' %}
                    {% set chek = '' %}
                    {% if filter_vier_url_set[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <label class="control-label">
                        <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                        <input type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    </label>
                </div>
            </div>
          </form><!-- /form_filter_vier_seo_url -->
    <div id="block_seo_url"><!-- block_seo_url -->
        <div class="form-group">
            <div class="sett_main ram_dash"><!-- gen_transl -->
                <label class=" control-label" for="gen_transl">
                    {% set pole = 'del_tire' %}
                    {% set chek = '' %}
                    {% if filter_vier_url_set[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input form="form" type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    {% set pole = 'gen_transl' %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">
                        <input form="form" type="submit" name="{{ pole }}" id="{{ pole }}" value="{{ _context['legnd_' ~ pole] }}" />
                    </span>
                </label>
            </div><!-- /gen_transl -->
            <span class="sett_main strelka">&#8594;</span>
            <div class="sett_main"><!-- add_transl ram_dash -->
                {% set pole = 'add_transl' %}
                <span id="{{ pole }}1" class="button_submit bg_grey">{{ _context['legnd_' ~ pole] }}</span>
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
            </div><!-- /add_transl -->
            <div class="sett_main"><!-- clear_table -->
                {% set pole = 'clear_table' %}
                <span id="{{ pole }}1" class="button_submit bg_red">{{ _context['legnd_' ~ pole] }}</span>
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
            </div><!-- /clear_table -->
        </div>
        <div class="clear"></div>
        <div class="name_group_main">{{ help_edit_transl }}</div>
    <!-- seo_attributes -->
    {% if seo_attributes %}
        <div class="block-param">
            {% set main_key = 'attrb' %}
            <fieldset>
                <legend>
                    <span class="jir">{{ _context['legnd_' ~ main_key] }}</span>
                    <span class="gran"></span>
                    {% set chek = '' %}
                    {% if filter_vier_url_set['canonic_view'][main_key] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input form="form" type="checkbox" name="filter_vier_url_set[canonic_view][{{ main_key }}]" value="1" {{ chek }} />
                    <span class="helpis" data-toggle="tooltip" title="{{ help_canonic_view }}"></span>
                    <span class="gran"></span>
                    <span class="ram_dash color_blue"><!-- for_otlad -->
                        {% set pole = 'show_link_slider' %}
                        {% set chek = '' %}
                        {% if for_otlad[pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                        <input form="form" type="checkbox" name="for_otlad[{{ pole }}]" value="1" {{ chek }} />
                    </span><!-- / for_otlad -->
                    <span class="gran"></span>
                    <span class="ram_dash"><!-- add_group_trans -->
                        {% set pole = 'add_group_trans' %}
                        {% set chek = '' %}
                        {% if filter_vier_url_set[pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
                        <input form="form" type="checkbox" name="filter_vier_url_set[{{ pole }}]" value="1" {{ chek }} />
                    </span><!-- / add_group_trans -->
                </legend>
                <div class="scrolis">
                <table class="tbl_seo max_width">
                {% for attributes in seo_attributes %}<!-- for_seo_attributes -->
                    <tr class="group_attr">
                        <td colspan="2" class="color_white">{{ attributes['name_group'] }}</td>
                    </tr>
                    {% for attribute in attributes[main_key] %}<!-- for_attributes -->
                        {% set main_id = attribute['attribute_id'] %}
                        {% set flg_slider = null %}
                        {% if attrb_slider and main_id in attrb_slider %}
                            {% set flg_slider = 'class="color_blue"' %}
                        {% endif %}
                        <tr class="group_attr jir">
                            <td {{ flg_slider }}>{{ attribute['name_attr'] }}</td>
                            <td class="transl">
                                <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][0]" type="text" value="{{ attribute['translit'] }}" />
                            </td>
                        </tr>
                        {% set es_sl = flg_slider ? show_link_slider : true %}
                        {% if es_sl and attribute['param'] %}<!-- if_es_sl -->
                            {% for val in attribute['param'] %}<!-- for_attribute_param -->
                                {% set key_id = val['text_id'] %}
                        <tr>
                            <td>{{ val['name_text'] }}</td>
                            <td class="transl">
                                <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][{{ key_id }}]" type="text" value="{{ val['translit'] }}" />
                            </td>
                        </tr>
                            {% endfor %}<!-- for_attribute_param -->
                        {% endif %}<!-- if_es_sl -->
                    {% endfor %}<!-- for_attributes -->
                {% endfor %}<!-- for_seo_attributes -->
                </table>
                </div>
            </fieldset>
        </div>
    {% endif %}<!-- /seo_attributes -->
    {% if seo_options %}<!-- seo_options -->
        {% set main_key = 'optv' %}
    <div class="block-param">
        <fieldset>
            <legend>
                <span class="jir">{{ legnd_optv }}</span>
                <span class="gran"></span>
                {% set chek = '' %}
                {% if filter_vier_url_set['canonic_view'][main_key] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input form="form" type="checkbox" name="filter_vier_url_set[canonic_view][{{ main_key }}]" value="1" {{ chek }} />
                <span class="helpis" data-toggle="tooltip" title="{{ help_canonic_view }}"></span>
            </legend>
            <div class="scrolis">
            <table class="tbl_seo max_width">
            {% for options in seo_options %}<!-- for_seo_options -->
                {% set main_id = options['group_id'] %}
                <tr class="group_attr jir">
                    <td>{{ options['name_group'] }}</td>
                    <td class="transl">
                        <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][0]" type="text" value="{{ options['translit'] }}" />
                    </td>
                </tr>
                {% for option in options['param'] %}<!-- for_options -->
                <tr>
                    <td>{{ option['name_option'] }}</td>
                    <td class="transl">
                        <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][{{ option['option_value_id'] }}]" type="text" value="{{ option['translit'] }}" />
                    </td>
                </tr>
                {% endfor %}<!-- for_options -->
            {% endfor %}<!-- for_seo_options -->
            </table>
            </div>
        </fieldset>
    </div>
    {% endif %}<!-- /seo_options -->
    <!-- seo manufs -->
    {% set main_key = 'manufs' %}
    {% if _context['stat_' ~ main_key] %}<!-- stat_manufs -->
        {% set main_id = 1 %}
    <div class="block-param">
        <fieldset>
            <legend>
                <table class="tbl_seo max_width">
                    <tr class="jir">
                        <td>{{ legnd_manufs }}</td>
                        <td class="transl">
                            <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][0]" type="text" value="{{ _context[main_key ~ '_translit'] }}" />
                        </td>
                        <td class="gran">
                            {% set chek = '' %}
                            {% if filter_vier_url_set['canonic_view'][main_key] %}
                                {% set chek = 'checked="checked"' %}
                            {% endif %}
                            <input form="form" type="checkbox" name="filter_vier_url_set[canonic_view][{{ main_key }}]" value="1" {{ chek }} />
                            <span class="helpis" data-toggle="tooltip" title="{{ help_canonic_view }}"></span>
                        </td>
                    </tr>
                </table>
            </legend>
            <div class="scrolis">
            <table class="tbl_seo max_width">
            {% for brand in seo_manufs %}<!-- for_seo_manufs -->
                <tr>
                    <td>{{ brand['name'] }}</td>
                    <td class="transl">
                        <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][{{ brand['manufacturer_id'] }}]" type="text" value="{{ brand['translit'] }}" />
                    </td>
                </tr>
            {% endfor %}<!-- for_seo_manufs -->
            </table>
            </div>
        </fieldset>
    </div>
    {% endif %}<!-- stat_manufs -->
    <!-- /seo manufs -->
    <!-- seo 'qnts','nows','prs','psp' -->
    {% set arr_block = ['qnts','nows','prs','psp'] %}
    {% for main_key in arr_block %}<!-- for_qnts','nows','prs','psp' -->
        {% if _context['stat_' ~ main_key] %}<!-- stat_qnts','nows','prs','psp' -->
            {% set main_id = 1 %}
            <div class="block-param">
                <fieldset>
                    <legend>
                        <table class="tbl_seo max_width">
                            <tr class="jir">
                                <td>{{ _context['legnd_' ~ main_key] }}</td>
                                <td class="transl">
                                    <input class="transl" tabindex="" name="transl[{{ main_key }}][{{ main_id }}][0]" type="text" value="{{ _context[main_key ~ '_translit'] }}" />
                                </td>
                                <td class="gran">
                                    {% set chek = '' %}
                                    {% if filter_vier_url_set['canonic_view'][main_key] %}
                                        {% set chek = 'checked="checked"' %}
                                    {% endif %}
                                    <input form="form" type="checkbox" name="filter_vier_url_set[canonic_view][{{ main_key }}]" value="1" {{ chek }} />
                                    <span class="helpis" data-toggle="tooltip" title="{{ help_canonic_view }}"></span>
                                </td>
                            </tr>
                        </table>
                    </legend>
                </fieldset>
            </div>
        {% endif %}<!-- stat_qnts','nows','prs','psp' -->
    {% endfor %}<!-- for_qnts','nows','prs','psp' -->
    <!-- /seo 'qnts','nows','prs','psp' -->
            <div class="clear"></div>
        </div><!-- end block_seo_url -->
    </div><!-- end #seo_url -->
    {% elseif shabl == 'hand_links' %}<!-- #tab-hand_links -->
    <div id="tab-{{ shabl }}">
        <div class="form-group">
            <div class="sett_main">
                {% set pole = 'alias' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_width_100" type="text" name="filter_vier_hl[{{ pole }}]" value="{{ filter_vier_hl[pole] }}" />
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'short_link' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    {% set chek = '' %}
                    {% if filter_vier_hl[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_hl[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
        </div>
        <div class="form-group">
            <table id="tbl_hand_links" class="max_width tbl_hand_links">
                <thead>
                    <tr class="group_attr jir">
                        <td class="width_30pr text_center">
                            <a href="{{ href_sort }}" class="link {{ sotr_order }}">{{ text_link }}</a>
                            <span data-toggle="tooltip" title="{{ button_reset }}" class="seo_infa"><a class="color_white" href="{{ action }}"> -- </a></span>
                        </td>
                        <td class="width_70pr text_center"><div id="view_display" class="text_right" style="display: none;">
                            <div class="sett_main">
                                <span id="clear_tabl_hl" class="button_submit bg_red">{{ button_clear }}</span><span class="helpis" data-toggle="tooltip" title="{{ help_clear_tabl_hl }}"></span>
                            </div>
                            <div class="sett_main">
                                <span id="copy_tabl_hl" class="button_submit bg_grey">{{ button_copy }}</span><span class="helpis" data-toggle="tooltip" title="{{ help_copy_tabl_hl }}"></span>
                            </div>
                        </div></td>
                        <td class="text_center"><span id="btn_view_copy" class="color_white curs_point"> -- </span></td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                      <td colspan="2" id="blok_filter">
                        <div class="table-responsive">
                            <table class="table max_width pole_filter">
                                <tr>
                                    <td>
                                        {% set pole = 'route' %}
                                        <label class="control-label">{{ poles_hl_name['legend'][pole] }}</label>
                                        <select name="filter_{{ pole }}">
                                            <option value=""> --- </option>
                                            {% for key, val in name_route %}
                                                {% set selec = '' %}
                                                {% if filter_hl[pole] and filter_hl[pole] == key %}
                                                    {% set selec = 'selected="selected"' %}
                                                {% endif %}
                                                <option value="{{ key }}" {{ selec }}>{{ val }}</option>
                                            {% endfor %}
                                        </select>
                                        <input type="hidden" name="filter_route_id" value="{{ filter_hl['route_id'] }}" />
                                    </td>
                                    <td class="max_width"><input type="text" class="form-control max_width" placeholder="{{ help_name_route }}" autocomplete="off" name="filter_name_route" value="{{ filter_hl['name_route'] }}" /></td>
                                    <!-- td rowspan="2" class="block_button"></td -->
                                </tr>
                                <tr>
                                    <td>
                                        {% set pole = 'link' %}
                                        <label class="control-label">{{ poles_hl_name['legend'][pole] }}</label>
                                        <input type="text" autocomplete="off" name="filter_{{ pole }}" value="{{ filter_hl[pole] }}" class="form-control link_pole" />
                                    </td>
                                    <td>
                                        {% set pole = 'short_link' %}
                                        <label class="control-label">{{ poles_hl_name['legend'][pole] }}</label>
                                        <input type="text" autocomplete="off" name="filter_{{ pole }}" value="{{ filter_hl[pole] }}" class="form-control link_pole" />
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="text_center">
                                        <button type="button" id="button-filter" class="btn btn-primary"><i class="fa fa-filter"></i> {{ button_filter }}</button>
                                        <button type="button" id="button-reset" class="btn btn-warning"><i class="fa fa-eraser"></i> {{ button_reset }}</button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                      </td>
                      <td class="text_center vertical_align_bottom"><button type="button" onclick="redHandLinks(0);" data-toggle="tooltip" title="{{ button_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                    </tr>
                </tbody>
                <tbody id="tb_pole_red">
                </tbody>
                <tfoot id="th_pole">
                {% set c_l = poles_landing_count['c_l'] %}
                {% for id, v in hand_links %} <!-- for_hand_links -->
                    <tr id="polerow_{{ id }}" class="bloc_pole">
                        <td class="links">
                            <table class="max_width">  
                            {% for pole in poles_hl %}
                                <tr>
                                {% set cls_imt = 'imt_input' %}
                                {% set route_is_name = null %}
                                {% if pole == 'route' %}
                                    {% set cls_imt = 'cls_hide imt_select' %}
                                    {% set route_is_name = (name_route[v['links'][pole]]) ? name_route[v['links'][pole]] : '' %}
                                
                                {% endif %}
                                    <td><div class="jir">{{ poles_hl_name['legend'][pole] }} {{ route_is_name }}</div></td>
                                    <td class="max_width">
                                {% if route_is_name %}
                                    <div id="name_route_{{ id }}" class="max_width imt_input">{{ v['links']['name_route'] }}</div>
                                    <div id="route_id_{{ id }}" class="cls_hide">{{ v['links']['route_id'] }}</div>
                                {% endif %}
                                    <div id="{{ pole ~ '_' ~ id }}" class="max_width {{ cls_imt }}">{{ v['links'][pole] }}</div>
                                    </td>
                                </tr>
                            {% endfor %}
                            </table>
                        </td>
                        <td class="meta_data">
                        {% for language in languages %}
                            {% set lang_id = language['language_id'] %}
                            <table>
                            {% for k, pole in poles_landing %}
                                {% set cls_imt = 'imt_input' %}
                                <tr>
                                {% if k == 0 %}
                                    <td class="group_attr" rowspan="{{ c_l }}"><img src="{{ language['src_img'] }}" alt="{{ language['name'] }}" /></td>
                                {% endif %}
                                {% if pole == 'discrib' %}
                                    {% set cls_imt = 'imt_textarea' %}
                                    <td class="jir bord_bot">{{ entry_description }}</td>
                                {% else %}
                                    <td class="jir">{{ pole }}</td>
                                {% endif %}
                                    <td class="max_width"><div id="{{ 'hand_links_' ~ id ~ '_' ~ pole ~ '_' ~ lang_id }}" class="max_width {{ cls_imt }}" >{{ v['discrs'][lang_id][pole] }}</div></td>
                                </tr>
                            {% endfor %}
                            </table>
                        {% endfor %}
                        </td>
                        <td class="text_center uprav">
                            <button type="button" onclick="edit_h_l({{ id }}, true)" data-toggle="tooltip" title="{{ button_copy }}" class="btn btn-success"><i class="fa fa-copy"></i></button>
                            <div class="pading_10"></div>
                            <button type="button" onclick="edit_h_l({{ id }}, false)" data-toggle="tooltip" title="{{ button_edit }}" class="btn btn-primary"><i class="fa fa-pencil"></i></button>
                            <div class="pading_10"></div>
                            <button type="button" onclick="del_h_l({{ id }})" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-trash"></i></button>
                        </td>
                    </tr>
                {% endfor %} <!-- end for_hand_links -->
                </tfoot>
            </table>
        </div>
        <div class="row">
          <div class="col-sm-6 text-left">{{ pagination }}</div>
          <div class="col-sm-6 text-right">{{ results }}</div>
        </div>
    </div><!-- end #tab-hand_links -->
    {% elseif shabl == 'lic' %}
    <div id="tab-{{ shabl }}">
        <div class="form-group">
            <div class="sett_main">
                <span>{{ legnd_get_key }}</span>
                <input class="button_submit bg_grey" type="submit" name="get_key" value="{{ bott_lic }}" />
            </div>
        </div>
    </div>
    {% elseif shabl == 'set_cats' %}
    <div id="tab-{{ shabl }}"><!-- #set_cats -->
        <div class="form-group">
            <div class="sett_main">
                {% set pole = 'status' %}
                <label class="control-label" for="input_{{ pole }}">
                  <span data-toggle="tooltip" title="{{ help_set_cats_status }}">{{ legnd_set_cats_status }}</span>
                  <select name="set_cats[{{ pole }}]" id="input_{{ pole }}" class="form-control select_fv1">
                    {% if set_cats[pole] %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
               </label>
            </div>
            <div class="sett_main">
                {% set pole = 'child_cats' %}
                {% set chek = '' %}
                {% if set_cats[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <label class="control-label" for="input_{{ pole }}">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="set_cats[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'ignor_attrb' %}                
                <label class="control-label" for="input_{{ pole }}">
                  <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                  <select name="set_cats[{{ pole }}]" id="input_{{ pole }}" class="form-control select_fv1">
                    {% if set_cats[pole] %}
                    <option value="1" selected="selected">{{ text_yes }}</option>
                    <option value="0">{{ text_no }}</option>
                    {% else %}
                    <option value="1">{{ text_yes }}</option>
                    <option value="0" selected="selected">{{ text_no }}</option>
                    {% endif %}
                  </select>
               </label>
            </div>
        </div>
        <div class="form-group">
            <div class="table-responsive">
                <table id="set_cats_attrb" class="table table-bordered">
                  <thead>
                    <tr><td colspan="3" class="text_center">{{ help_set_cats }}</td></tr>
                    <tr>
                      <td class="width_50pr">
                        {{ entry_category }}<span data-toggle="tooltip" title="{{ entry_autocomplete }}"></span>
                      </td>
                      <td class="">
                        {{ entry_attribute }}<span data-toggle="tooltip" title="{{ entry_autocomplete }}"></span>
                      </td>
                      <td class="uprav"></td>
                    </tr>
                  </thead>
                  <tbody>
                  {% set row_attrb = 0 %}
                  {% for pole in set_cats['view_attrb'] %}
                    <tr id="row_attrb_{{ row_attrb }}">
                        <td class="cats">
                            <input type="text" autocomplete="off" name="set_cats[view_attrb][{{ row_attrb }}][name]" value="{{ pole['name'] }}" class="form-control" />
                            <input type="hidden" name="set_cats[view_attrb][{{ row_attrb }}][category_id]" value="{{ pole['category_id'] }}" />
                        </td>
                        <td class="attrb">
                            <input type="text" name="attrb[{{ row_attrb }}][name]" value="" placeholder="" class="form-control" />
                            <div id="attrb_cat_{{ row_attrb }}" class="imt_textarea">
                                {% for val in pole['attrb'] %}
                                <div id="row_attrb_{{ row_attrb }}_{{ val['attribute_id'] }}">
                                    <i class="fa fa-minus-circle curs_point color_red"></i>
                                    {{ val['name'] }}
                                    <input type="hidden" name="set_cats[view_attrb][{{ row_attrb }}][attrb][]" value="{{ val['attribute_id'] }}" />
                                </div>
                                {% endfor %}
                            </div>
                        </td>
                        <td>
                            <button type="button" onclick="$('#row_attrb_{{ row_attrb }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button>
                        </td>
                    </tr>
                  {% set row_attrb = row_attrb + 1 %}
                  {% endfor %}
                  </tbody>
                  <tfoot>
                    <tr>
                        <td colspan="2"></td>
                        <td class="text_center add_pole"><button type="button" onclick="addPole();" data-toggle="tooltip" title="{{ button_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                    </tr>
                  </tfoot>
                </table>
            </div>
        </div>
    </div><!-- end #set_cats -->
    {% elseif shabl == 'style_filter' %}
    <div id="tab-{{ shabl }}"><!-- #style_filter -->
    <div class="tab-pane"><!-- tab-pane -->
        <ul class="nav nav-tabs common_style" id="panel_data">
        {% for tab in tab_nav_panel %}
        <li><a href="#pole_data_{{ tab['id'] }}" data-toggle="tab">
            {{ tab['txt'] }}
            </a>
        </li>
        {% endfor %}
        </ul>
        {% set cls_ = 'cls-' %}
        <div class="tab-content" id="filter_vier_css"><!-- #filter_vier_css -->
            <!-- main_set -->
            {% set pole = 'main_set' %}
            {% set cls_primer = 'prm_' ~ pole %}
            <div class="tab-pane" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        <span class="for_label">{{ legnd_my_style_status }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css['status'][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[status][{{ pole }}]" value="1" {{ chek }} />
                    </div>
                    <!-- temes -->
                    <div class="sett_main">
                        {% set key = 'themes' %}
                        <label class="control-label" for="themes_filter">
                          <span data-toggle="tooltip" title="{{ _context['help_' ~ key] }}">{{ _context['legnd_' ~ key] }}</span>
                          <select name="filter_vier_css[{{ key }}]" id="themes_filter" class="form-control select_fv1">
                            {% for theme in choice_theme %}
                                {% set selec = '' %}
                                {% if filter_vier_css[key] and filter_vier_css[key] == theme %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                            <option value="{{ theme }}" {{ selec }}>{{ theme }}</option> 
                            {% endfor %}
                          </select>
                        </label>
                    </div>
                    <!-- end temes -->
                </div>
                <div class="form-group vide">
                    {% set class = 'head_filter' %}
                    <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                    <div class="sett_main">
                        {% set key = 'display_none' %}
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css[pole][class][key] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" value="1" {{ chek }} />
                    </div>
                    {% for key, blok in arr_blok[class] %}<!-- blokcs -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% elseif blok == 'blok_select' %}
                        <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_100">
                            {% for k, val in arr_text_alignc %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == k %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                                <option value="{{ k }}" {{ selec }}>{{ val }}</option>
                            {% endfor %}
                        </select>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokcs -->
                    <div class="name_group_main bord_top_dott"></div>
                    {% for key in arr_icons %}<!-- iconis -->
                    <div class="sett_main">
                        {% set val = filter_vier_css['icon_awesome'][class][key] %}
                        <label class="lab_icon">
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                            <div class="bloc_icon"><input class="icon_awesome" id="{{ class ~ '-' ~ key }}_{{ key }}" name="filter_vier_css[icon_awesome][{{ class }}][{{ key }}]" value="{{ val }}" type="text" /><span class="prm_icon"><i class="{{ val }}" aria-hidden="true"></i></span></div>
                        </label>
                    </div>
                    {% endfor %}<!-- / iconis -->
                    <div class="name_group_main bord_top_dott">{{ legnd_css_border_radius }}</div><!-- bord_rad -->
                    {% for key in arr_border_radius %}
                    <div class="sett_main">
						<span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
						<input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv['border_radius']['min'] }}" max="{{ mmsv['border_radius']['max'] }}" step=" {{ mmsv['border_radius']['step'] }}" value="{{ filter_vier_css[pole][class][key] }}"/><span> px </span>
                    </div>
                    {% endfor %}<!-- / bord_rad -->
                </div>
                <div class="form-group vide">
                    {% set class = 'filter_vier' %}
                    <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                    <div class="sett_main">
                        {% set key = 'display_none' %}
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css[pole][class][key] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" value="1" {{ chek }} />
                    </div>
                    {% for key, blok in arr_blok[class] %}<!-- blokc -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc -->
                    <div class="name_group_main bord_top_dott">{{ legnd_css_border_radius }}</div><!-- bord_rad -->
                    {% for key in arr_border_radius %}
                    <div class="sett_main">
						<span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
						<input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv['border_radius']['min'] }}" max="{{ mmsv['border_radius']['max'] }}" step=" {{ mmsv['border_radius']['step'] }}" value="{{ filter_vier_css[pole][class][key] }}"/><span> px </span>
                    </div>
                    {% endfor %}<!-- / bord_rad -->
                </div>
                <div class="form-group vide">
                    {% set class = 'head_group' %}
                    <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                    {% for key, blok in arr_blok[class] %}<!-- blokc -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc -->
                </div>
                <div class="form-group vide">
                    {% set class = 'title_filter' %}
                    <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                    {% for key, blok in arr_blok[class] %}<!-- blokc -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc -->
                    <div class="name_group_main bord_top_dott"></div>
                    {% for key in arr_icons %}<!-- iconis -->
                    <div class="sett_main">
                        {% set val = filter_vier_css['icon_awesome'][class][key] %}
                        <label class="lab_icon">
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                            <div class="bloc_icon"><input class="icon_awesome" id="{{ class ~ '-' ~ key }}_{{ key }}" name="filter_vier_css[icon_awesome][{{ class }}][{{ key }}]" value="{{ val }}" type="text" /><span class="prm_icon"><i class="{{ val }}" aria-hidden="true"></i></span></div>
                        </label>
                    </div>
                    {% endfor %}<!-- / iconis -->
                    <div class="name_group_main bord_top_dott">{{ legnd_css_border_radius }}</div><!-- bord_rad -->
                    {% for key in arr_border_radius %}
                    <div class="sett_main">
						<span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
						<input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv['border_radius']['min'] }}" max="{{ mmsv['border_radius']['max'] }}" step=" {{ mmsv['border_radius']['step'] }}" value="{{ filter_vier_css[pole][class][key] }}"/><span> px </span>
                    </div>
                    {% endfor %}<!-- / bord_rad -->
                </div>
                <div class="form-group vide">
                    {% set class = 'block_param' %}
                    <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                    {% for key, blok in arr_blok[class] %}<!-- blokc -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc -->
                    <div class="name_group_main bord_top_dott">{{ legnd_css_border_radius }}</div><!-- bord_rad -->
                    {% for key in arr_border_radius %}
                    <div class="sett_main">
						<span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
						<input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv['border_radius']['min'] }}" max="{{ mmsv['border_radius']['max'] }}" step=" {{ mmsv['border_radius']['step'] }}" value="{{ filter_vier_css[pole][class][key] }}"/><span> px </span>
                    </div>
                    {% endfor %}<!-- / bord_rad -->
                    <div class="name_group_main bord_top_dott"></div>
                    <div class="sett_main">
                        {% set class = 'row_blok' %}
                        {% set key = 'min_width_countpercent' %}
                        <span class="for_label el_pre_sel">{{ _context['legnd_css_' ~ key] }}</span>
                        <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_50">
                        {% for val in block_param_count %}
                            {% set selec = '' %}
                            {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == val %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                        {% endfor %}
                        </select>
                    </div>
                    <div class="sett_main">
                        {% set param_key = 'onli_param_hidis' %}
                        <span class="for_label color_gr">{{ legnd_onli_param_hidis }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css[pole][param_key] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[{{ pole }}][{{ param_key }}]" value="1" {{ chek }} />
                    </div>
                    <div class="name_group_main bord_top_dott">{{ legnd_main_set_gorizont }}</div>
                    <div class="sett_main">
                        {% set class = 'block_param' %}
                        {% set key = 'width_countpercent' %}
                        <span class="for_label el_pre_sel">{{ _context['legnd_css_' ~ key] }}</span>
                        <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_50">
                        {% for val in block_param_count %}
                            {% set selec = '' %}
                            {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == val %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                        {% endfor %}
                        </select>
                    </div>
                    <div class="sett_main">
                        {% set param_key = 'param_gorizont' %}
                        <span class="for_label">{{ legnd_main_set_param_gorizont }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css[pole][param_key] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[{{ pole }}][{{ param_key }}]" value="1" {{ chek }} />
                    </div>
                </div>
                <div class="form-group vide">
                    <div class="name_group_main"><span>{{ legnd_main_set_tec_vibor }}</span></div>
                    {% set class = 'ligend_get' %}
                    {% for key, blok in arr_blok[class] %}<!-- blokc -->
                    <div class="sett_main">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc -->
                    {% set class = 'tec_vibor' %}
                    <div class="sett_main">
                        {% set key = 'background_color' %}
                        <span class="for_label">{{ legnd_main_set_tec_vibor_fon }}</span>
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ filter_vier_css[pole][class][key] }}"/>
                    </div>
                    <div class="sett_main">
                        {% set key = 'color_a' %}
                        <span class="for_label">{{ legnd_main_set_tec_vibor_clear }}</span>
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ filter_vier_css[pole][class][key] }}"/>
                    </div>
                </div>
                <div class="form-group vide" id="poles_total">
                    {% set key_param = 'total_view' %}
                    {% set checks_total_view = 1 %}
                    <div class="name_group_main"><span>{{ legnd_total_view }}</span></div>
                    <div class="sett_main">
                        {% set param = 'forms_total' %}
                        <select name="filter_vier_css[{{ key_param }}][{{ param }}]" class="form-control select_fv1">
                        {% for key in total_position %}
                            {% set selec = '' %}
                            {% if filter_vier_css[key_param][param] and filter_vier_css[key_param][param] == key %}
                                {% set selec = 'selected="selected"' %}
                                {% set checks_total_view = key %}
                            {% endif %}
                            <option value="{{ key }}" {{ selec }}>{{ _context['legnd_' ~ key_param ~ '_' ~ key] }}</option>
                        {% endfor %}
                        </select>
                    </div>
                    {% set class = 'count_prod' %}
                    {% for key, blok in arr_blok[class] %}<!-- blokc3 -->
                    {% set total_ = 'total_3' %}
                    {% if key == 'color' %}
                        {% set total_ = 'total_1' %}
                    {% elseif key == 'top' %}
                        {% set total_ = '' %}
                    {% endif %}
                    <div class="sett_main {{ total_ }}">
                        <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                        {% set style_css = filter_vier_css[pole][class][key] %}
                        {% if blok == 'blok_number' %}
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                        {% elseif blok == 'blok_color' %}
                        <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                        {% endif %}
                    </div>
                    {% endfor %}<!-- / blokc3 -->
                </div>
                <div class="form-group vide">
                    {% set param_key = 'add_style' %}
                    <div class="name_group_main"><span>{{ legnd_main_set_add_style }}</span></div>
                    <textarea name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control el_pre_sel add_style">{{ filter_vier_css[pole][param_key] }}</textarea>
                </div>
                <script>
                    $(document).ready(function() {
                        var $check_pole = $("[name='filter_vier_css[total_view][forms_total]']");
                        function videPole(value) {
                            var $pole1 = $('#poles_total .total_1'),
                            $pole3 = $('#poles_total .total_3'),
                            $pole_input1 = $('#poles_total .total_1 input'),
                            $pole_input3 = $('#poles_total .total_3 input'),
                            obj1 = {"display":"inline-block"},
                            obj3 = obj1;
                            $pole_input1.prop('disabled', false);
                            $pole_input3.prop('disabled', false);
                            if(value == '1') {
                                obj1 = {"display":"inline-block"};
                                obj3 = {"display":"none"};
                                $pole_input1.prop('disabled', false);
                                $pole_input3.prop('disabled', true);
                            }
                            else if(value == '2') {
                                obj1 = {"display":"none"};
                                obj3 = {"display":"none"};
                                $pole_input1.prop('disabled', true);
                                $pole_input3.prop('disabled', true);
                            }
                            $pole1.css(obj1);
                            $pole3.css(obj3);
                        }
                        videPole('{{ checks_total_view }}');
                        $check_pole.on('click', function() {
                            var value = $check_pole.val();
                            videPole(value);
                        });
                        /*status*/
                        var pole = '{{ pole }}', $check = $('input[name="filter_vier_css[status]['+pole+']"]');
                        displVide({{ (filter_vier_css['status'][pole]) ? 'true' : 'false' }}, pole);
                        $check.on('click', function() {
                            displVide($check.is(':checked'), pole);
                        });
                        /*end status*/
                    });
                </script>
            </div><!-- main_set -->
            <!-- mobil_versi -->
            {% set pole = 'mobil_versi' %}
            <div class="tab-pane" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        {% set param_key = 'width_mobil' %}
                        <span class="for_label">{{ legnd_main_set_width_mobil }}</span>
                        <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ param_key }}]" type="text" value="{{ filter_vier_css[pole][param_key] ? filter_vier_css[pole][param_key] : width_mobil  }}"/><span> px </span>
                    </div>
                    <div class="sett_main">
                        {% set param_key = 'mobil_versi' %}
                        <label class="control-label">
                            <span data-toggle="tooltip" title="{{ _context['help_' ~ param_key] }}">{{ _context['legnd_' ~ param_key] }}</span>
                          <select name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control select_fv1">
                            {% for val in choice_mobil_versi %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][param_key] and filter_vier_css[pole][param_key] == val %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                                <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                            {% endfor %}
                          </select>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    {% set class = 'head_filter' %}
                    {% set key = 'display' %}
                    <div class="name_group_main"><span>{{ legnd_main_set_head_filter }}</span></div>
                    <div class="sett_main">
                        <span class="for_label el_pre_sel">{{ legnd_css_display }}</span>
                        <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_50">
                        {% for k, val in display_yes_no %}
                            {% set selec = '' %}
                            {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == k %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ k }}" {{ selec }}>{{ val }}</option>
                        {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    {% set class = 'filter_vier' %}
                    {% set key = 'display' %}
                    <div class="name_group_main"><span>{{ legnd_main_set_filter_vier }}</span></div>
                    <div class="sett_main">
                        <span class="for_label el_pre_sel">{{ legnd_css_display }}</span>
                        <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_50">
                        {% for k, val in display_yes_no %}
                            {% set selec = '' %}
                            {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == k %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ k }}" {{ selec }}>{{ val }}</option>
                        {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    {% set param_key = 'add_style' %}
                    <div class="name_group_main"><span>{{ legnd_main_set_add_style }}</span><div>@media(max-width:[]px) {</div></div>
                    <textarea name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control el_pre_sel add_style">{{ filter_vier_css[pole][param_key] }}</textarea>
                    <div class="name_group_main"> } </div>
                </div>
            </div><!-- / mobil_versi -->
            <!-- button -->
            {% set pole = 'button' %}
            {% set cls_primer = 'prm_' ~ pole %}
            <div class="tab-pane" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        <span class="for_label">{{ legnd_my_style_status }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css['status'][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[status][{{ pole }}]" value="1" {{ chek }} />
                    </div>
                    <div class="sett_main choice">
                        {% set param_key = 'choice' %}
                        <label class="control-label">
                          <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                          <select name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control select_fv1">
                            {% for val in choice_button %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][param_key] and filter_vier_css[pole][param_key] == val %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                            <option value="{{ val }}" {{ selec }}>{{ val }}</option> 
                            {% endfor %}
                          </select>
                        </label>
                    </div>
                </div>
                <ul class="nav nav-tabs vide" id="panel_{{ pole }}">
                {% for tab in tab_nav_vide %}
                <li><a href="#{{ pole }}-{{ tab['href'] }}" data-toggle="tab">
                    {{ tab['txt'] }}
                    </a>
                </li>
                {% endfor %}
                </ul>
                <div class="tab-content bg_white vide"><!-- bg_white -->
                    {% for tab in tab_nav_vide %}
                        {% set vide = tab['id'] %}
                    <div class="tab-pane" id="{{ pole }}-{{ tab['href'] }}">
                        <div class="form-group vide_1">
                        {% if arr_colors[pole][vide] %}
                            {% for key, val in arr_colors[pole][vide] %}
                            <div class="sett_main {{ cls_ ~ val }}">
                                <span class="for_label">{{ _context['legnd_css_' ~ val] }}</span>
                                <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ key }}]" data-position="bottom right" type="text" value="{{ filter_vier_css[pole][key] }}"/>
                            </div>
                            {% endfor %}
                            <script>
                            {% for key, val in arr_colors[pole][vide] %}
                            $(document).ready(function() {
                                var key = "{{ arr_colors_repl[pole][vide][key] }}";
                                var id_primer = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' .' ~ cls_primer }}';
                                var name_id = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' [name="filter_vier_css[' ~ pole ~ '][' ~ key ~ ']"]' }}';
                                var name_id_default = '{{ '#' ~ pole ~ '-tab-default [name="filter_vier_css[' ~ pole ~ '][' ~ val ~ ']"]' }}';
                                addPrimerCss(id_primer, key, name_id, name_id_default);
                                $(name_id).on('input', function() {
                                    addPrimerCss(id_primer, key, name_id, name_id_default);
                                });
                            });
                            {% endfor %}
                            </script>
                        {% endif %}
                        </div>
                        <!-- primer -->
                        <div class="bloc_vide vide_2"><div class="primer"><span class="{{ cls_primer }}">{{ text_primer }}</span></div></div>
                        <!-- / primer -->
                        <div class="form-group vide_1">
                        {% if arr_lines[pole][vide] %}
                            {% for key, val in arr_lines[pole][vide] %}
                            <div class="sett_main {{ cls_ ~ val }}">
                                <span class="for_label">{{ _context['legnd_css_' ~ val] }}</span>
                                <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ key }}]" type="number" min="{{ mmsv[val]['min'] }}" max="{{ mmsv[val]['max'] }}" step="{{ mmsv[val]['step'] }}" value="{{ filter_vier_css[pole][key] }}"/><span> px </span>
                            </div>
                            {% endfor %}
                            <script>
                            {% for key, val in arr_lines[pole][vide] %}
                            $(document).ready(function() {
                                var key = "{{ arr_lines_repl[pole][vide][key] }}";
                                var id_primer = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' .' ~ cls_primer }}';
                                var name_id = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' [name="filter_vier_css[' ~ pole ~ '][' ~ key ~ ']"]' }}';
                                var name_id_default = '{{ '#' ~ pole ~ '-tab-default [name="filter_vier_css[' ~ pole ~ '][' ~ val ~ ']"]' }}';
                                addPrimerCss(id_primer, key, name_id, name_id_default);
                                $(name_id).on('input', function() {
                                    addPrimerCss(id_primer, key, name_id, name_id_default);
                                });
                            });
                            {% endfor %}
                            </script>
                        {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div><!-- / bg_white -->
                <script>
                    $('#pole_data_{{ pole }} a:first').tab('show');
                    $(document).ready(function() {
                        /*status*/
                        var pole = '{{ pole }}', $check = $('input[name="filter_vier_css[status]['+pole+']"]');
                        displVide({{ (filter_vier_css['status'][pole]) ? 'true' : 'false' }}, pole);
                        $check.on('click', function() {
                            displVide($check.is(':checked'), pole);
                        });
                        /*end status*/
                    });
                </script>
            </div><!-- / button -->
            <!-- select_checks -->
            {% set pole = 'select_checks' %}
            {% set cls_primer = 'prm_' ~ pole %}
            <div class="tab-pane" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        <span class="for_label">{{ legnd_my_style_status }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css['status'][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[status][{{ pole }}]" value="1" {{ chek }} />
                    </div>
                    <div class="sett_main choice">
                        {% set param_key = 'choice' %}
                        <label class="control-label">
                          <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                          <select name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control select_fv1">
                            {% for val in choice_select_checks %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][param_key] and filter_vier_css[pole][param_key] == val %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                            <option value="{{ val }}" {{ selec }}>{{ val }}</option> 
                            {% endfor %}
                          </select>
                        </label>
                    </div>
                </div>
                <ul class="nav nav-tabs vide" id="panel_{{ pole }}">
                {% for tab in tab_nav_vide %}
                <li><a href="#{{ pole }}-{{ tab['href'] }}" data-toggle="tab">
                    {{ tab['txt'] }}
                    </a>
                </li>
                {% endfor %}
                </ul>
                <div class="tab-content bg_white vide"><!-- bg_white -->
                    {% for tab in tab_nav_vide %}
                        {% set vide = tab['id'] %}
                    <div class="tab-pane" id="{{ pole }}-{{ tab['href'] }}">
                        <div class="form-group vide_1">
                        {% if arr_colors[pole][vide] %}
                            {% for key, val in arr_colors[pole][vide] %}
                            {% set galk = '' %}
                            {% if val == 'color' %}
                                {% set galk = '_galka' %}
                            <div class="sett_main">
                                <span class="for_label el_pre_sel">{{ legnd_my_style_checks_galka }}</span>
                                {% set chek = '' %}
                                {% if filter_vier_css['checks_galka'] %}
                                    {% set chek = 'checked="checked"' %}
                                {% endif %}
                                <input type="checkbox" name="filter_vier_css[checks_galka]" value="1" {{ chek }} />
                            </div>
                            {% endif %}
                            <div class="sett_main {{ cls_ ~ val }}">
                                <span class="for_label">{{ _context['legnd_css_' ~ val ~ galk] }}</span>
                                <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ key }}]" data-position="bottom right" type="text" value="{{ filter_vier_css[pole][key] }}"/>
                            </div>
                            {% endfor %}
                            <script>
                            {% for key, val in arr_colors[pole][vide] %}
                            $(document).ready(function() {
                                var key = "{{ arr_colors_repl[pole][vide][key] }}";
                                var id_primer = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' .' ~ cls_primer }}';
                                var name_id = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' [name="filter_vier_css[' ~ pole ~ '][' ~ key ~ ']"]' }}';
                                var name_id_default = '{{ '#' ~ pole ~ '-tab-default [name="filter_vier_css[' ~ pole ~ '][' ~ val ~ ']"]' }}';
                                addPrimerCss(id_primer, key, name_id, name_id_default);
                                $(name_id).on('input', function() {
                                    addPrimerCss(id_primer, key, name_id, name_id_default);
                                });
                            });
                            {% endfor %}
                            </script>
                        {% endif %}
                        </div>
                        <!-- primer -->
                        <div class="bloc_vide vide_2"><div class="primer"><span class="{{ cls_primer ~ ' ' ~ vide }}"></span></div></div>
                        <!-- / primer -->
                        <div class="form-group vide_1">
                        {% if arr_lines[pole][vide] %}
                            {% for key, val in arr_lines[pole][vide] %}
                            {% set style_css = (val == 'top') ? '2' : '' %}
                            <div class="sett_main {{ cls_ ~ val }}">
                                <span class="for_label">{{ _context['legnd_css_' ~ val] }}</span>
                                <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ key }}]" type="number" min="{{ mmsv[val]['min'] }}" max="{{ mmsv[val]['max'] }}" step="{{ mmsv[val]['step'] }}" value="{{ filter_vier_css[pole][key] ? filter_vier_css[pole][key] : style_css }}"/><span> px </span>
                            </div>
                            {% endfor %}
                            <script>
                            {% for key, val in arr_lines[pole][vide] %}
                            $(document).ready(function() {
                                var key = "{{ arr_lines_repl[pole][vide][key] }}";
                                var id_primer = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' .' ~ cls_primer }}';
                                var name_id = '{{ '#' ~ pole ~ '-tab-' ~ vide ~ ' [name="filter_vier_css[' ~ pole ~ '][' ~ key ~ ']"]' }}';
                                var name_id_default = '{{ '#' ~ pole ~ '-tab-default [name="filter_vier_css[' ~ pole ~ '][' ~ val ~ ']"]' }}';
                                addPrimerCss(id_primer, key, name_id, name_id_default);
                                $(name_id).on('input', function() {
                                    addPrimerCss(id_primer, key, name_id, name_id_default);
                                });
                            });
                            {% endfor %}
                            </script>
                        {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div><!-- / bg_white -->
                <script>
                    $('#pole_data_{{ pole }} a:first').tab('show');
                    $(document).ready(function() {
                        /*status*/
                        var pole = '{{ pole }}', $check = $('input[name="filter_vier_css[status]['+pole+']"]');
                        displVide({{ (filter_vier_css['status'][pole]) ? 'true' : 'false' }}, pole);
                        $check.on('click', function() {
                            displVide($check.is(':checked'), pole);
                        });
                        /*end status*/
                         var $check_pole = $("input[name='filter_vier_css[checks_galka]']");
                        function videPole(flag) {
                            var $pole = $("#pole_data_select_checks .{{ cls_ }}color"),
                                $pole_top = $("#pole_data_select_checks .{{ cls_ }}top"),
                                $pole_primer = $("#select_checks-tab-active .prm_select_checks");
                            
                            if(flag) {
                                $pole.css({"display":"inline-block"});
                                $pole_top.css({"display":"inline-block"});
                                $pole_primer.addClass('active');
                            }
                            else {
                                $pole.css({"display":"none"});
                                $pole_top.css({"display":"none"});
                                $pole_primer.removeClass('active');
                            }
                        }
                        videPole({{ (filter_vier_css['checks_galka']) ? 'true' : 'false' }}, pole);
                        $check_pole.on('click', function() {
                            videPole($check_pole.is(':checked'));
                        });
                    });
                </script>
            </div><!-- / select_checks -->
            <!-- skin_slider -->
            {% set pole = 'skin_slider' %}
            {% set cls_primer = 'prm_' ~ pole %}
            <div class="tab-pane bg_white" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        <span class="for_label">{{ legnd_my_style_status }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css['status'][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[status][{{ pole }}]" value="1" {{ chek }} />
                    </div>
                    <div class="sett_main choice">
                        {% set param_key = 'choice' %}
                        <label class="control-label">
                          <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                          <select name="filter_vier_css[{{ pole }}][{{ param_key }}]" class="form-control select_fv1">
                            {% for val in choice_skin_slider %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][param_key] and filter_vier_css[pole][param_key] == val %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                            <option value="{{ val }}" {{ selec }}>{{ val }}</option> 
                            {% endfor %}
                          </select>
                        </label>
                    </div>
                </div>
                <div class="vide"><!-- vide -->
                    <!-- primer -->
                    <div class="bloc_vide vide_2"><div class="primer"><div class="fixi_blok"><input id="{{ cls_primer }}" /></div></div></div>
                    <!-- end primer -->
                    {% for class, bloks in arr_blok_sl %}
                    <div class="form-group vide_1">
                        <div class="name_group_main"><span>{{ _context['legnd_skin_slider_' ~ class] }}</span></div>
                        {% for blok, stl in bloks %}
                            {% for key, val in stl %}
                        <div class="sett_main">
                            {% set style_css = filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : val %}
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                                {% if blok == 'blok_number' %}
                            <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                                {% elseif blok == 'blok_color' %}
                            <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                                {% endif %}
                        </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                    {% endfor %}
                    <div class="form-group vide_1">
                        <div class="name_group_main"><span>{{ legnd_skin_slider_grid }}</span></div>
                        {% for class, bloks in arr_sl_grid %}
                            {% for blok, stl in bloks %}
                                {% for key, val in stl %}
                            <div class="sett_main">
                                {% set style_css = filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : val %}
                                <span class="for_label">{{ _context['legnd_css_' ~ class ~ '_' ~ key] }}</span>
                                    {% if blok == 'blok_number' %}
                                <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsv[key]['min'] }}" max="{{ mmsv[key]['max'] }}" step="{{ mmsv[key]['step'] }}" value="{{ style_css }}"/><span> px </span>
                                    {% elseif blok == 'blok_color' %}
                                <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ style_css }}"/>
                                    {% endif %}
                            </div>
                                {% endfor %}
                            {% endfor %}
                        {% endfor %}
                    </div>
                </div><!-- / vide -->
                <script>
                    $(document).ready(function() {
                        $('#{{ cls_primer }}').ionRangeSlider({
                            type: 'double'
                            ,hide_min_max: true
                			//,hide_from_to: false
                            ,keyboard: true
                            ,force_edges: true
                            ,min: 0
                            ,max: 100
                            ,from: 20
                            ,to: 80
                            ,grid: true
                        });
                        /*style*/
                        var pre_sl = 'irs-', de1 = '/';
                        $('#pole_data_skin_slider .vide_1 input').each(function() {
                            skinSliderCss($(this));
                        });
                        $('#pole_data_skin_slider .vide_1 input').on('input', function () {
                            skinSliderCss($(this));
                        });
                        function skinSliderCss(data) {
                            var value = data.val();
                            var name = data.attr('name');
                            var arr_data = name.replace('filter_vier_css[skin_slider]', '').replace('][', de1).replace('[', '').replace(']', '').split(de1);
                            var cls, key, suf = '';
                            if(arr_data.length == 2) {
                                cls = arr_data[0].replace('_', '-');
                                if(cls == 'single') {
                                    cls += ',.irs-from,.irs-to';
                                }
                                key = arr_data[1].replace('_', '-');
                                suf = isSufPx(key);
                                if(!value) {
                                    if(suf) { value = 0; } else { value = ''; }
                                    //if(suf) { value = ''; suf = '';}
                                }
                                $('.'+pre_sl+cls).css(key, value+suf);
                            }
                        }
                        /*end style*/
                        /*status*/
                        var pole = '{{ pole }}', $check = $('input[name="filter_vier_css[status]['+pole+']"]');
                        displVide({{ (filter_vier_css['status'][pole]) ? 'true' : 'false' }}, pole);
                        $check.on('click', function() {
                            displVide($check.is(':checked'), pole);
                        });
                        /*end status*/
                    });
                </script>
            </div><!-- / skin_slider -->
            <!-- ajax_bloc -->
            {% set pole = 'ajax_bloc' %}
            {% set cls_primer = 'prm_' ~ pole %}
            <div class="tab-pane bg_white" id="pole_data_{{ pole }}">
                <div class="form-group">
                    <div class="sett_main">
                        <span class="for_label">{{ legnd_my_style_status }}</span>
                        {% set chek = '' %}
                        {% if filter_vier_css['status'][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_css[status][{{ pole }}]" value="1" {{ chek }} />
                    </div>
                    {% if no_ajax_text %}
                    <div class="name_group_main">{{ help_ajax_bloc_langs_data }}</div>
                    {% endif %}
                </div>
                <div class="vide bg_white"><!-- vide -->
                    <div class="form-group vide_1">
                        {% set class = 'bloc_primenit' %}
                        <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                        <div class="sett_main">
                            {% set key = 'display' %}
                            <span class="for_label el_pre_sel">{{ _context['legnd_' ~ pole ~ '_' ~ key] }}</span>
                            <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_50">
                            {% for k, val in display_no_yes %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == k %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                                <option value="{{ k }}" {{ selec }}>{{ val }}</option>
                            {% endfor %}
                            </select>
                        </div>
                        <div class="sett_main">
                            {% set key = 'text_align' %}
                            <span class="for_label el_pre_sel">{{ _context['legnd_blok_' ~ key] }}</span>
                            <select name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" class="form-control select_fv input_width_130">
                            {% for k, val in arr_text_alignf %}
                                {% set selec = '' %}
                                {% if filter_vier_css[pole][class][key] and filter_vier_css[pole][class][key] == k %}
                                    {% set selec = 'selected="selected"' %}
                                {% endif %}
                                <option value="{{ k }}" {{ selec }}>{{ val }}</option>
                            {% endfor %}
                            </select>
                        </div>
                        <div class="name_group_main bord_top_dott"></div>
                        <div class="sett_main">
                            {% set key = 'z_index' %}
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                            <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsva[key]['min'] }}" max="{{ mmsva[key]['max'] }}" step="{{ mmsva[key]['step'] }}" value="{{ filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : mmsva[key]['value'] }}"/>
                        </div>
                        {% set class = 'no_style' %}
                        <div class="sett_main">
                            {% set key = 'corect_gorizont' %}
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                            <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsva[key]['min'] }}" max="{{ mmsva[key]['max'] }}" step="{{ mmsva[key]['step'] }}" value="{{ filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : mmsva[key]['value'] }}"/>
                        </div>
                    </div>
                    <!-- primer -->
                    <div class="bloc_vide vide_2"><div class="primer"><div class="fixi_blok"><div id="{{ cls_primer }}"><div class="bloc_aj_all"><span class="aj_blc aj_bloc_txt">{{ primer_text['aj_bloc_txt'] }}</span><span class="aj_blc ajx_total_prod">255</span><span id="primenit_js"><span class="aj_blc aj_bloc_btn">{{ primer_text['aj_bloc_btn'] }}</span></span><span id="clear_vibor" class="aj_blc aj_blc_del"><i class="fa fa-trash-o"></i></span></div></div></div></div></div>
                    <!-- end primer -->
                    {% for class, stl in ajax_bloks %}<!-- bloka -->
                    <div class="form-group vide_1">
                        <div class="name_group_main"><span>{{ _context['legnd_' ~ pole ~ '_' ~ class] }}</span></div>
                        {% for key, blok in stl %}
                        <div class="sett_main">
                            <span class="for_label">{{ _context['legnd_css_' ~ key] }}</span>
                                {% if blok == 'blok_number' %}
                            <input class="blok_number readonly_int" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" type="number" min="{{ mmsva[key]['min'] }}" max="{{ mmsva[key]['max'] }}" step="{{ mmsva[key]['step'] }}" value="{{ filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : mmsva[key]['value'] }}"/><span> px </span>
                                {% elseif blok == 'blok_color' %}
                            <input class="blok_color" name="filter_vier_css[{{ pole }}][{{ class }}][{{ key }}]" data-position="bottom right" type="text" value="{{ filter_vier_css[pole][class][key] ? filter_vier_css[pole][class][key] : '' }}"/>
                                {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                    {% endfor %}<!-- / bloka -->
                </div><!-- / vide -->
                <script>
                    $(document).ready(function() {
                        /*style*/
                        var de1 = '/';
                        $('#pole_data_ajax_bloc .vide_1 input').each(function() {
                            ajaxBlocCss($(this));
                        });
                        $('#pole_data_ajax_bloc .vide_1 input').on('input', function () {
                            ajaxBlocCss($(this));
                        });
                        function ajaxBlocCss(data) {
                            var value = data.val();
                            var name = data.attr('name');
                            var arr_data = name.replace('filter_vier_css[ajax_bloc]', '').replace('][', de1).replace('[', '').replace(']', '').split(de1);
                            var cls, key, suf = '';
                            if(arr_data.length == 2) {
                                cls = arr_data[0];
                                if(cls != 'no_style') {
                                    key = arr_data[1].replace('_', '-');
                                    suf = isSufPx(key);
                                    if(!value) {
                                        //if(suf) { value = 0; } else { value = ''; }
                                        if(suf) { value = ''; suf = '';}
                                        
                                    }
                                    $('.'+cls).css(key, value+suf);
                                }
                            }
                        }
                        /*end style*/
                        /*status*/
                        var pole = '{{ pole }}', $check = $('input[name="filter_vier_css[status]['+pole+']"]');
                        displVide({{ (filter_vier_css['status'][pole]) ? 'true' : 'false' }}, pole);
                        $check.on('click', function() {
                            displVide($check.is(':checked'), pole);
                        });
                        /*end status*/
                    });
                </script>
            </div><!-- / ajax_bloc -->
        </div><!-- / #filter_vier_css -->
    </div><!-- / tab-pane -->
    </div><!-- end #style_filter -->
    {% elseif shabl == 'base' %}<!-- #general -->
    <div class="tab-pane" id="tab-langs"><!-- #tab-langs -->
        <label class="discr">Language:<span class="helpis" data-toggle="tooltip" title="{{ help_leave_blank }}"></span></label>
        <ul class="nav nav-tabs" id="lang_data"><!-- description -->
        {% for language in languages %}
            <li><a href="#language_data{{ language['language_id'] }}" data-toggle="tab">
                <img src="{{ language['src_img'] }}" title="{{ language['name'] }}" />
                {{ language['name'] }}
                </a>
            </li>
        {% endfor %}
        </ul>
        <div class="tab-content">
            {% for language in languages %}
                {% set lang_id = language['language_id'] %}
            <div class="tab-pane" id="language_data{{ lang_id }}">
                <div class="form-group">
                    <table class="tbl_lang max_width">
                    {% for k_l, v_l in _legend_discript %}
                        <tr>
                            <td class="text_lang">{{ v_l }}</td>
                            <td class="value_lang"><input type="text" name="lang[{{ lang_id }}][{{ k_l }}]" value="{{ lang_description[lang_id][k_l] }}" /></td>
                        </tr>
                    {% endfor %}
                    </table>
                </div>
            </div>
            {% endfor %}
        </div>
    </div><!-- / #tab-langs -->
    <div class="tab-pane" id="tab-meta_tags"><!-- #tab-meta_tags -->
        <div class="form-group">
            {% set set_cpu = ['meta_tags','redir_url','del_host','url_js','not_found_404','noindex_rel','noindex_rel_nopp','noindex_page','no_opis_page','noindex_sort_lim','noindex_all'] %}
            {% for pole in set_cpu %}
            <div class="sett_main {{ pole }}">
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="filter_vier_cpu[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            {% endfor %}
            <div class="sett_main">
                {% set pole = 'noindex' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_center input_width_30" type="text" name="filter_vier_cpu[{{ pole }}]" value="{{ filter_vier_cpu[pole] }}"/>
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'robot_text' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_center input_width_100" type="text" name="filter_vier_cpu[{{ pole }}]" value="{{ filter_vier_cpu[pole] }}"/>
                </label>
            </div>
            <div class="sett_main">
                <label class="control-label">
                <span data-toggle="tooltip" title="{{ help_canonical }}">{{ legnd_canonical }}</span>   
                  <select name="filter_vier_cpu[canonical]" class="select_fv">
                    {% for key, coun in arr_canonical %}
                        {% set selec = null %}
                        {% if filter_vier_cpu['canonical'] and filter_vier_cpu['canonical'] == key %}
                            {% set selec = 'selected="selected"' %}
                        {% endif %}
                        <option value="{{ key }}" {{ selec }}>{{ coun }}</option>
                    {% endfor %}
                  </select>
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'seo_page' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_center input_width_100" type="text" name="filter_vier_cpu[{{ pole }}]" value="{{ filter_vier_cpu[pole] }}"/>
                </label>
            </div>
            {% set pole = 'set_filter_to_base' %}
            <div class="sett_main {{ pole }}">
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="filter_vier_cpu[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
        </div>
        <div class="form-group">
        {% set set_cpu = ['link_pages','h_head','pole_h1','h_descript','h_descript_base','pole_descript','h_descript_base_plus','no_price','no_category','no_gua_qv_now','no_param_opis','no_param_meta','str_to_lower'] %}
        {% for pole in set_cpu %}
            {% if pole == 'pole_descript' %}
            <div class="sett_main h_descript_base" id="{{ pole }}">
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_width_100" type="text" name="filter_vier_cpu[{{ pole }}]" value="{{ filter_vier_cpu[pole] ? filter_vier_cpu[pole]|trim : null }}"/>
                </label>
            </div>
            {% else %}
            <div class="sett_main {{ pole }}">
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="filter_vier_cpu[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            {% endif %}
        {% endfor %}
            <script>
                var defol_pole = {{ filter_vier_cpu['h_descript_base'] ? 'true' : 'false' }};
                var $check_pole = $("input[name='filter_vier_cpu[h_descript_base]']");
                function videPole(flag) {
                    var $pole = $("#pole_descript"),$pole1 = $(".h_descript_base");
                    if(flag) {
                        $pole.css({"display":"inline-block","margin-left":"0"});
                        $pole1.css({"background":"#c5d5cd","margin-right":"0"});
                    }
                    else {
                        $pole.css({"display":"none"});
                        $pole1.css({"background":"none"});
                    }
                }
                videPole(defol_pole);
                $check_pole.on('click', function() {
                    videPole($check_pole.is(':checked'));
                });
            </script>
        </div>
        <div class="form-group bg_brown">
            {% set arr_breadcrumbs = ['breadcrumbs','no_param_breadcrumbs','str_to_lower_breadcrumbs','breadcrumbs_str_url'] %}
            {% for pole in arr_breadcrumbs %}
            <div class="sett_main">
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="filter_vier_cpu[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            {% endfor %}
            <div class="sett_main">
                {% set pole = 'breads_devide_in_pos' %}
                <label class="control-label">
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input class="input_center input_width_30" type="text" name="filter_vier_cpu[{{ pole }}]" value="{{ filter_vier_cpu[pole] }}"/>
                </label>
            </div>
        </div>
        <ul class="nav nav-tabs" id="language">
        {% for language in languages %}
            <li><a href="#language{{ language['language_id'] }}" data-toggle="tab">
                <img src="{{ language['src_img'] }}" title="{{ language['name'] }}" />
                {{ language['name'] }}
                </a>
            </li>
        {% endfor %}
        </ul>
        <div class="tab-content">
            {% for language in languages %}
                {% set lang_id = language['language_id'] %}
            <div class="tab-pane" id="language{{ lang_id }}">
                <label class="discr">meta-tags:<span class="helpis" data-toggle="tooltip" title="{{ help_leave_blank }}"></span></label>
                <div class="form-group">
                    <table class="tbl_lang max_width">
                    {% for k_l, v_l in legend_discript %}
                        <tr>
                            <td class="text_lang">{{ v_l }}</td>
                            <td class="value_lang"><input type="text" name="lang[{{ lang_id }}][{{ k_l }}]" value="{{ lang_description[lang_id][k_l] }}" /></td>
                        </tr>
                    {% endfor %}
                    </table>
                </div>
                <!-- description -->
                {% for pole in arr_opis %}
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="description{{ lang_id }}_{{ pole }}">
                    <p class="discr">{{ text_shablon }} {{ _context['text_' ~ pole] }}:<span class="helpis" data-toggle="tooltip" title="{{ _context['help_desc_' ~ pole] }}"></span></p>
                    </label>
                    <div class="col-sm-10">
                        <div><button class="btn-primary redakt" id="bot_{{ lang_id }}_{{ pole }}" onclick="edit_redakt({{ lang_id }}, '{{ pole }}')" type="button"><i class="fa fa-pencil"></i></button><span class="jir"> - {{ text_visual_editor }}</span></div>
                        <textarea name="description[{{ lang_id }}][description][{{ pole }}]" id="description{{ lang_id }}_{{ pole }}" class="form-control textarea_edit">{{ description[lang_id]['description'][pole] }}</textarea>
                    </div>
                </div>
                {% endfor %}
                <div class="form-group">
                    {% set pole = 'mark_description' %}
                    <label class="col-sm-2 control-label" for="{{ pole }}{{ lang_id }}">{{ text_markers }}:</label>
                    <div class="col-sm-10">
                        <textarea name="mark_description[{{ lang_id }}]" id="mark_description{{ lang_id }}" class="form-control">{{ mark_description[lang_id] }}</textarea>
                    </div>
                    <div class="col-sm-2 control-label"></div>
                    <div class="col-sm-10">
                        <div class="opis_mark">{{ help_discript }}</div>
                    </div>
                </div>
                <!-- / description -->
            </div>
            {% endfor %}
        </div>
    </div><!-- end #tab-meta_tags -->
    <div class="tab-pane" id="tab-site_map"><!-- #tab-site_map -->
        <div class="form-group">
            <div class="sett_main">
                {% set pole = 'site_map' %}
                <label class="control-label">
                    {% set chek = null %}
                    {% if filter_vier_cpu[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    <input type="checkbox" name="filter_vier_cpu[{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'sm_http' %}
                {% set arr_sm = ['http','https'] %}
                <label class="control-label">
                    <span class="el_pre_sel" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>   
                  <select name="filter_vier_cpu[{{ pole }}]" class="select_fv">
                    {% for val in arr_sm %}
                        {% set selec = null %}
                        {% if filter_vier_cpu[pole] and filter_vier_cpu[pole] == val %}
                            {% set selec = 'selected="selected"' %}
                        {% endif %}
                        <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                    {% endfor %}
                  </select>
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'sm_changefreq' %}
                {% set arr_sm = ['always','hourly','daily','weekly','monthly','yearly','never'] %}
                <label class="control-label">
                    <span class="el_pre_sel" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>   
                  <select name="filter_vier_cpu[{{ pole }}]" class="select_fv">
                    {% for val in arr_sm %}
                        {% set selec = null %}
                        {% if filter_vier_cpu[pole] and filter_vier_cpu[pole] == val %}
                            {% set selec = 'selected="selected"' %}
                        {% endif %}
                        <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                    {% endfor %}
                  </select>
                </label>
            </div>
            <div class="sett_main">
                {% set pole = 'sm_priority' %}
                {% set arr_sm = ['0.1','0.2','0.3','0.4','0.5','0.6','0.7','0.8','0.9','1.0'] %}
                <label class="control-label">
                    <span class="el_pre_sel" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>   
                  <select name="filter_vier_cpu[{{ pole }}]" class="select_fv">
                    {% for val in arr_sm %}
                        {% set selec = null %}
                        {% if filter_vier_cpu[pole] and filter_vier_cpu[pole] == val %}
                            {% set selec = 'selected="selected"' %}
                        {% endif %}
                        <option value="{{ val }}" {{ selec }}>{{ val }}</option>
                    {% endfor %}
                  </select>
                </label>
            </div>
        </div>
    </div><!-- end #tab-site_map -->
    <div class="tab-pane active" id="tab-general">
      <div class="form-group" id="set_main"><!-- group_main-set_main -->
        <div class="sett_main">
            <label class="control-label" for="input_status">
              <span data-toggle="tooltip" title="{{ help_status_main }}">{{ entry_status_main }}</span>
              <select name="module_filter_vier_status" id="input_status" class="form-control select_fv1">
                {% if module_filter_vier_status %}
                <option value="1" selected="selected">{{ text_enabled }}</option>
                <option value="0">{{ text_disabled }}</option>
                {% else %}
                <option value="1">{{ text_enabled }}</option>
                <option value="0" selected="selected">{{ text_disabled }}</option>
                {% endif %}
              </select>
           </label>
        </div>
        <div class="sett_main">
        {% set set_main = ['sort_name','sort_model','sort_price','sort_price_desc','sort_rating_desc','sort_viewed_desc','sort_date_added_desc','sort_quantity_desc','sort_random'] %}
            <label class="control-label" for="sort_default">
                <span data-toggle="tooltip" title="{{ help_sort_default }}">{{ legnd_sort_default }}</span>
              <select name="filter_vier_setting[sort_default]" class="form-control select_fv1" id="sort_default">
                <option value="0">---</option>
                {% for pole in set_main %}
                    {% set selec = '' %}
                    {% if filter_vier_setting['sort_default'] and filter_vier_setting['sort_default'] == pole %}
                        {% set selec = 'selected="selected"' %}
                    {% endif %}
                <option value="{{ pole }}" {{ selec }}>{{ _context['legnd_' ~ pole] }}</option> 
                {% endfor %}
              </select>
            </label>
        </div>
        <div class="sett_main">
            {% set pole = 'ajax_filter' %}
            <label class="control-label">
                <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = '' %}
                {% if filter_vier_setting[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} />
            </label>
        </div>
        <div class="sett_main">
            {% set pole = 'ajax_filter_mobil' %}
            <label class="control-label">
                <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = '' %}
                {% if filter_vier_setting[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} />
            </label>
        </div>
        <div class="sett_main cache">
            {% set pole = 'cache' %}
            <label class="control-label">
                <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = '' %}
                {% if filter_vier_cache %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_cache" value="1" {{ chek }} />
            </label>
        </div>
        <div class="sett_main">
            {% set pole = 'clear_cache' %}
            <span id="{{ pole }}1" class="button_submit bg_grey">{{ _context['legnd_' ~ pole] }}</span>
            <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
        </div>
    </div><!-- group_main-set_main -->
    <div class="clear"></div>
    <div class="form-group" id="group_main"><!-- group_main -->
        <div class="sett_main posit">
            <label class="control-label" for="input_position">
                <span data-toggle="tooltip" title="{{ help_position }}">{{ legnd_position }}</span>
                <input class="input_center input_width_30" id="input_position" type="text" name="filter_vier_setting[position]" value="{{ filter_vier_setting['position'] }}" />
            </label>
        </div>
        {% set set_main = ['scroll_item','sort_quant','gua_qv_now','scrollis','sub_cats','null_count'] %}
        {% for pole in set_main %}
        <div class="sett_main">
            <label class="control-label">
                <span data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = '' %}
                {% if filter_vier_setting[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} />
            </label>
        </div>
        {% endfor %}
        <div class="sett_main">
            <label class="control-label">
                <span data-toggle="tooltip" title="{{ help_not_dislay }}">{{ legnd_not_dislay }}</span>
                <input class="blok_number readonly_int" name="filter_vier_setting[not_dislay]" type="number" min="0" max="10" step="1" value="{{ filter_vier_setting['not_dislay'] }}"/>
            </label>
        </div>
    </div><!-- end group_main -->
    <div class="clear"></div>
    <div id="block_filter_vier"><!-- block_filter_vier -->
    <!-- attributes -->
    {% if view_attributes %}
    <div class="block-param">
        <fieldset>
            {% set pz = 'attrb' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                    <!-- tabl_ats -->
                    {# if tabl_ats_status #}
                    <span class="group_attr ram_dash">
                        {% set pole = 'tabl_ats' %}
                        {% set chek = null %}
                        {% if filter_vier_setting[pz][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}" style="color: #000;">{{ _context['legnd_' ~ pole] }}</span>
                        <input type="checkbox" {{ disabled_ats }} name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    </span>
                    {# endif #}
                    <!-- / tabl_ats -->
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div id="block_gen_id" class="text_center marg_5_0">
                <span class="helpis" data-toggle="tooltip" title="{{ help_attr_sep }}" style="color: #000;">{{ legnd_attr_sep }}</span>
                <input class="input_center input_width_30" name="filter_vier_setting[{{ pz }}][separ]" type="text" maxlength="1" value="{{ filter_vier_setting[pz]['separ'] }}" />
                {% set pole = 'gen_text_id' %}
                <span id="{{ pole }}1" class="button_submit bg_green" style="color: indianred">{{ _context['legnd_' ~ pole] }}</span>
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
                <span class="gran"></span>
                {% set pole = 'html_tag' %}
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}" style="color: #000">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = null %}
                {% if filter_vier_setting[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} />
            </div>
            <!-- tabl_ats -->
            {% if tabl_ats_status and displ_gen_id %}
            <script>
                var defol_ats = {{ filter_vier_setting[pz]['tabl_ats'] ? 'true' : 'false' }};
                var $check_ats = $("input[name='filter_vier_setting[{{ pz }}][tabl_ats]']");
                function videBlocAts(flag) {
                    var bloc1 = $("#block_gen_id");
                    if(flag) {
                        bloc1.css({"display":"none"});
                    }
                    else {
                        bloc1.css({"display":"block"});
                    }
                }
                videBlocAts(defol_ats);
                $check_ats.on('click', function() {
                    videBlocAts($check_ats.is(':checked'));
                });
            </script>
            {% endif %}
            <!-- / tabl_ats -->
            <div class="status">
                {% set set_main = ['inout','count'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    {% if pole == 'inout' %}
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"></span>
                    {% endif %}
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                {% endfor %}
            </div>
            {% if flag_diap %}
            <table class="tbl_param max_width">
                <tr>
                    <td class="text_center input_width_120">{{ legnd_diap_mark }}<span data-toggle="tooltip" title="{{ help_diap_mark }}" class="helpis"></span>
                        <input class="input_center input_width_30" name="filter_vier_setting[{{ pz }}][diap_mark]" type="text" maxlength="1" value="{{ filter_vier_setting[pz]['diap_mark'] }}" />
                    </td>
                    <td class="text_center input_width_120 gran">{{ legnd_diap_step }}<span data-toggle="tooltip" title="{{ help_diap_step }}" class="helpis"></span></td>
                    <td><input class="max_width" name="filter_vier_setting[{{ pz }}][diap_step]" type="text" value="{{ filter_vier_setting[pz]['diap_step'] }}" /></td>
                </tr>
            </table>
            {% endif %}
            <table class="tbl_param max_width color_blue">
                <tr>
                    <td class="text_center input_width_100"><span data-toggle="tooltip" title="{{ help_slider_attrb ~ help_slider_step }}" class="helpis jir">{{ legnd_slider_step }}</span></td>
                    <td><input class="max_width" name="filter_vier_setting[{{ pz }}][slider_step]" type="text" value="{{ filter_vier_setting[pz]['slider_step'] }}" /></td>
                    {% if sld_input_attrb %}
                        {% set pole = 'input_slider' %}
                        {% set chek = null %}
                        {% if filter_vier_setting[pz][pole] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                    <td class="gran">
                        <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}"><span class="jir">Input</span></span>
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    </td>
                    {% endif %}
                </tr>
            </table>
            <table class="max_width">
                <tr>
                    <td class="max_width"><div class="block_check max_width">
                        <a onclick="$('.check_attr').find(':checkbox').prop('checked', true);">{{ text_select_all }}</a> / <a onclick="$('.check_attr').find(':checkbox').prop('checked', false);">{{ text_unselect_all }}</a>
                    </div></td>
                    <td class="text_center"><span data-toggle="tooltip" title="{{ legnd_null_position }}" class="helpis color_gr"></span></td>
                </tr>
            </table>
            <div class="scrolis">
            <table class="tbl_param max_width">
            {% for attributes in view_attributes %}
                {% set grp_id = attributes['group_id'] %}
                <tr class="group_attr jir">
                    <td colspan="3">
                    {{ attributes['name_group'] }}
                    <span class="gran">
                    {% set chec = null %}
                    {% if filter_vier_setting[pz]['group_view'] and grp_id in filter_vier_setting[pz]['group_view'] %}
                        {% set chec = 'checked="checked"' %}
                    {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][group_view][]" value="{{ grp_id }}" {{ chec }} /><span class="color_white"> {{ legnd_group_view }}</span>
                    </span>
                    </td>
                    <td class="gran color_gr">
                    {% set chek = null %}
                    {% if filter_vier_setting[pz]['group_view']['null_position'] and grp_id in filter_vier_setting[pz]['group_view']['null_position'] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][group_view][null_position][]" value="{{ grp_id }}" {{ chek }} />
                    </td>
                </tr>
                {% for parami in attributes[pz] %}
                    {% set main_id = parami['attribute_id'] %}
                <tr>
                    <td colspan="2" class="check_attr">
                    {% set chek = null %}
                    {% if filter_vier_setting[pz]['view'] and main_id in filter_vier_setting[pz]['view'] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][view][]" value="{{ main_id }}" {{ chek }} /><span class="info_param" title="ID attribute: {{ main_id }}">{{ parami['name_attr'] }}</span>
                    </td>
                    <td class="gran">
                        <select name="filter_vier_setting[{{ pz }}][display][{{ main_id }}]" class="form-control select_fv2">
                            <option value="">{{ text_link }}</option>
                            {% for pole in pole_attrb_display %}
                            {% set selec = null %}
                            {% if main_id in attrb_display[pole] %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ pole }}" {{ selec }}>{{ _context['text_' ~ pole] }}</option> 
                            {% endfor %}
                        </select>
                    </td>
                    <td class="gran color_gr">
                    {% set chek = null %}
                    {% if main_id in attrb_display['null_position'] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][null_position][]" value="{{ main_id }}" {{ chek }} />
                    </td>
                </tr>
                {% endfor %}
        {% endfor %}
        </table>
        </div>
        <div class="block_check">
            <a onclick="$('.check_attr').find(':checkbox').prop('checked', true);">{{ text_select_all }}</a> / <a onclick="$('.check_attr').find(':checkbox').prop('checked', false);">{{ text_unselect_all }}</a>
        </div>
        <!-- tabl_ats -->
        {% if tabl_ats_status %}
        <div class="params">
            <span class="jir">{{ legnd_img_wh }}</span>
            <input class="input_center input_width_30" name="filter_vier_setting[{{ pz }}][img_wh]" type="text" value="{{ filter_vier_setting[pz]['img_wh'] }}" />
        </div>
        {% endif %}
        <!-- / tabl_ats -->
        </fieldset>
    </div>
    {% endif %}
    <!-- /attributes -->
    <!-- options -->
    {% if view_options %}
    <div class="block-param">
        <fieldset>
            {% set pz = 'optv' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['inout','count','quant'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    {% if pole == 'inout' or pole == 'quant' %}
                <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {% endif %}
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                {% endfor %}
            </div>
            <table class="max_width">
                <tr>
                    <td class="max_width"><div class="block_check max_width">
                        <a onclick="$('.optinz').find(':checkbox').prop('checked', true);">{{ text_select_all }}</a> / <a onclick="$('.optinz').find(':checkbox').prop('checked', false);">{{ text_unselect_all }}</a>
                    </div></td>
                    <td class="text_center"><span data-toggle="tooltip" title="{{ legnd_null_position }}" class="helpis color_gr"></span></td>
                </tr>
            </table>
            <div class="scrolis">
            <table class="tbl_param max_width">
            {% for parami in view_options %}
                {% set main_id = parami['option_id'] %}
                <tr class="group_attr jir">
                    <td class="optinz">
                        {% set chek = null %}
                        {% if filter_vier_setting[pz]['view'] and main_id in filter_vier_setting[pz]['view'] %}
                            {% set chek = 'checked="checked"' %}
                        {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][view][]" value="{{ main_id }}" {{ chek }} /> {{ parami['name_group'] }}
                    </td>
                    <td class="gran">
                        <select name="filter_vier_setting[{{ pz }}][display][{{ main_id }}]" class="form-control select_fv2">
                            <option value="">{{ text_link }}</option>
                            {% for pole in pole_optv_display %}
                            {% set selec = null %}
                            {% if main_id in optv_display[pole] %}
                                {% set selec = 'selected="selected"' %}
                            {% endif %}
                            <option value="{{ pole }}" {{ selec }}>{{ _context['text_' ~ pole] }}</option> 
                            {% endfor %}
                        </select>
                    </td>
                    <td class="gran color_gr">
                    {% set chek = null %}
                    {% if main_id in optv_display['null_position'] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][null_position][]" value="{{ main_id }}" {{ chek }} />
                    </td>
                </tr>
            {% endfor %}
            </table>
            </div>
            <div class="block_check">
                <a onclick="$('.optinz').find(':checkbox').prop('checked', true);">{{ text_select_all }}</a> / <a onclick="$('.optinz').find(':checkbox').prop('checked', false);">{{ text_unselect_all }}</a>
            </div>
            <div class="params">
                <span class="jir">{{ legnd_img_wh }}</span>
                <input class="input_center input_width_30" name="filter_vier_setting[{{ pz }}][img_wh]" type="text" value="{{ filter_vier_setting[pz]['img_wh'] }}" />
            </div>
        </fieldset>
    </div>
    {% endif %}
    <!-- /options -->
    <!-- price -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'prs' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['inout','count','slider','null_position'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    {% if pole == 'inout' %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                    {% elseif pole == 'null_position' %}
                    <span  class="sort_order">
                        <span data-toggle="tooltip" title="{{ _context['legnd_' ~ pole] }}" class="helpis color_gr">
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /></span>
                    </span>
                    {% else %}
                        {% set sld = null %}
                        {% if pole == 'slider' %}
                            {% set sld = 'class="color_blue"' %}
                        {% endif %}
                    <span {{ sld }}><input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /></span>
                    {{ _context['text_' ~ pole] }}
                        {% if sld %}
                        <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                        {% endif %}
                    <span class="gran"></span>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="params">
                <div class="text-right">
                {% set set_main = ['del_symbol'] %}
                {% for pole in set_main %}
                    <span class="gran"></span>
                    <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    {% set chek = null %}
                    {% if filter_vier_setting[pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} />
                {% endfor %}
                </div>
            </div>
            {% set pole = 'step_slider' %}
            <div id="{{ pole }}" class="params ram_dash">
                <p class="group_attr">{{ _context['legnd_' ~ pole] }}<span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span></p>
                <input class="input_width_100" type="text" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="{{ filter_vier_setting[pz][pole] ? filter_vier_setting[pz][pole] : null }}"/> <span>{{ config_currency }}</span>
                <span class="gran"></span>
                {% set pole = 'grid_slider' %}
                <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                {% set chek = null %}
                {% if filter_vier_setting[pz][pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
            </div>
            {% set pole = 'step_prs' %}
            <div id="{{ pole }}" class="params ram_dash">
                <p class="group_attr">{{ _context['legnd_' ~ pole] }}<span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span></p>
                <input class="input-price" type="text" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="{{ filter_vier_setting[pz][pole] }}"/> <span>{{ config_currency }}</span>
            </div>
        </fieldset>
        <script>
            var defol_sld = {{ filter_vier_setting['prs']['slider'] ? 'true' : 'false' }};
            var $check_slider = $("input[name='filter_vier_setting[prs][slider]']");
            function videBloc(flag) {
                var $step_slider = $("#step_slider")
                    ,$step_prs = $("#step_prs");
                if(flag) {
                    $step_slider.css({"display":"block"});
                    $step_prs.css({"display":"none"});
                }
                else {
                    $step_slider.css({"display":"none"});
                    $step_prs.css({"display":"block"});
                }
            }
            videBloc(defol_sld);
            $check_slider.on('click', function() {
                videBloc($check_slider.is(':checked'));
            });
        </script>
    </div>
    <!-- /price -->
    <!-- manufacted -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'manufs' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['inout','count','null_position'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    {% if pole == 'inout' %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                        <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                        {{ _context['text_' ~ pole] }}
                        <span class="gran"></span>
                    {% elseif pole == 'null_position' %}
                        <span  class="sort_order">
                            <span data-toggle="tooltip" title="{{ legnd_null_position }}" class="helpis color_gr">
                                <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                            </span>
                        </span>
                    {% else %}
                        <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                        {{ _context['text_' ~ pole] }}
                        <span class="gran"></span>
                    {% endif %}
                {% endfor %}
            </div>
            {% set set_pole = 'display' %}
            <div class="sett_main">{{ _context['legnd_' ~ set_pole] }}
                <select name="filter_vier_setting[{{ pz }}][{{ set_pole }}]" class="select_fv2">
                    <option value="">{{ text_link }}</option>
                    {% for pole in pole_manufs_display %}
                    {% set selec = null %}
                    {% if filter_vier_setting[pz][set_pole] and filter_vier_setting[pz][set_pole] == pole %}
                        {% set selec = 'selected="selected"' %}
                    {% endif %}
                    <option value="{{ pole }}" {{ selec }}>{{ _context['text_' ~ pole] }}</option> 
                    {% endfor %}
                </select>
            </div>
            <div class="sett_main">
                <span class="jir">{{ legnd_img_wh }}</span>
                <input class="input_center input_width_30" name="filter_vier_setting[{{ pz }}][img_wh]" type="text" value="{{ filter_vier_setting[pz]['img_wh'] }}" />
            </div>
        </fieldset>
    </div>
    <!-- /manufacted -->
    <!-- quantity -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'qnts' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['count'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                {% endfor %}
            </div>
            <p class="group_attr">
                {{ legnd_is_quant }}<span data-toggle="tooltip" class="helpis" title="{{ help_is_quant }}"></span>
                {% set chek = null %}
                {% if filter_vier_setting[pz]['quant'] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <input type="checkbox" name="filter_vier_setting[{{ pz }}][quant]" value="1" {{ chek }} />
            </p> 
        </fieldset>
    </div>
    <!-- /quantity -->
    <!-- nows -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'nows' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['count'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                {% endfor %}
            </div>
            <p class="group_attr">
                {{ help_news_text }}
            </p>
            <p class="params">
                <input class="input_right" type="text" name="filter_vier_setting[{{ pz }}][day]" value="{{ filter_vier_setting[pz]['day'] }}" />
                <span>{{ help_news_day }}</span>
            </p>
        </fieldset>
    </div>
    <!-- /nows -->
    <!-- psp -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'psp' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}<span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pz] }}"></span>
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} /><span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span data-toggle="tooltip" class="helpis" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <div class="status">
                {% set set_main = ['count'] %}
                {% for pole in set_main %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    {{ _context['text_' ~ pole] }}
                    <span class="gran"></span>
                {% endfor %}
            </div>
        </fieldset>
    </div>
    <!-- /psp -->
    <!-- choice -->
    <div class="block-param">
        <fieldset>
            {% set pz = 'chc' %}
            <legend><div>{{ _context['legnd_' ~ pz] }}
                <span class="status_blok">
                    <span class="gran"></span>
                    {% set pole = 'status' %}
                    {% set chek = null %}
                    {% if filter_vier_setting[pz][pole] %}
                        {% set chek = 'checked="checked"' %}
                    {% endif %}
                    <input type="checkbox" name="filter_vier_setting[{{ pz }}][{{ pole }}]" value="1" {{ chek }} />
                    <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pz] }}"></span>
                    {{ _context['text_' ~ pole] }}
                   <span class="blok_right">
                       <span class="gran"></span>
                       {% set pole = 'view_posit' %}
                       <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                       <input class="input_center input_width_30" name="filter_vier_setting[view_posit][{{ pz }}]" type="text" value="{{ filter_vier_setting[pole][pz] }}" />
                    </span> 
                </span>
            </div></legend>
            <p class="group_attr">
                {% set pole = 'mini_sel' %}
                {% set chek = null %}
                {% if filter_vier_setting[pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
                <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                <input type="checkbox" name="filter_vier_setting[{{ pole }}]" value="1" {{ chek }} /> 
            </p> 
        </fieldset>     
    </div>
    <!-- /choice -->
    </div><!-- end block_filter_vier -->
        <div class="clear"></div>
        <div class="form-group" id="fv_poles"><!-- fv_poles -->
            <div class="name_group_main">{{ legnd_setting_poles }}<span class="helpis" data-toggle="tooltip" title="{{ help_setting_poles }}"></span></div>
            {% set set_poles = ['stock_status','rating','reward','discount','plus_sort_name','mini_description','date_end','manufacturer','special','nalog','mult_store','fix_sticker_bestseller','fix_product_series','fix_base_special','fix_bulk_special','fix_attrtool','fix_opttool','fix_unit','fix_kit_series','fix_hyper_product_models'] %}
            {% for pole in set_poles %}
                {% set chek = null %}
                {% if filter_vier_setting['poles'][pole] %}
                    {% set chek = 'checked="checked"' %}
                {% endif %}
            <div class="set_poles">
                <label class="ram_dot">
                    <span class="helpis" data-toggle="tooltip" title="{{ _context['help_' ~ pole] }}">{{ _context['legnd_' ~ pole] }}</span>
                    - <input type="checkbox" name="filter_vier_setting[poles][{{ pole }}]" value="1" {{ chek }} />
                </label>
            </div>
            {% endfor %}
        </div><!-- end fv_poles -->
        <div class="clear"></div>
    </div><!-- end #general -->
    {% endif %}<!-- end #all -->
    </div><!-- / tab-content -->
    <!-- end module -->
    {% if shabl != 'seo_url' %}
    </form><!-- form -->
    {% endif %}
    </div><!-- end class="panel-body" -->
    </div><!-- end class="panel panel-default" -->
    <div class="clear avtor_bloc">{{ avtor_bloc }}</div>
    <div id="go_top">^</div>
  </div><!-- end class="container-fluid" 2 -->
  <!-- div class="text_center">FilterVier</div -->
</div><!-- end id="content" -->
{% if shabl != 'lic' %}
<script>
    //setting
    var token = '{{ token }}';
    var ajax_token = '{{ ajax_token }}';
    var ajax_redir = '{{ ajax_redir }}';
    var ajax_put = '{{ ajax_put }}';
    var error_param = 'error_param';
    var color_red = 'color_red';
    var text_popup = '{{ text_popup }}';
    var button_save = '{{ button_save }}';
    var text_saved = '{{ text_saved }}';
    var button_cancel = '{{ button_cancel }}';
    //autocompli
    var count_req = 2;
    
    $(document).ready(function() {
		$(window).scroll(function() {
			if($(this).scrollTop() > 100) {
				$('#go_top').fadeIn();
                $("#fix_blok_pull").addClass('fix_blok'); $("#ssuu").prependTo("#fix_blok_pull").css({"float":"none"});
			} else {
				$('#go_top').fadeOut();
                $("#fix_blok_pull").removeClass('fix_blok'); $("#ssuu").appendTo(".panel-heading").css({"float":"right"});
			}
		});
		$('#go_top').click(function() {
            animTop(0);
		});
	});
    function animTop(top) {
        $('html, body').animate({scrollTop: top},500);
        return false;
    }
        
    function successPole(text) {
        return '<div class="seo_infa alert alert-success" style="margin-bottom:0px; padding:5px 17px; min-width:160px;"><i class="fa fa-check-circle"></i> '+text+'<button type="button" class="close" data-dismiss="alert">&nbsp;&times;</button></div>';
    }
    function errorPole(text) {
        return '<div tabindex="1" class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+text+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>';
    }
    function popupBlock() {
        return '<div class="text_center popup_blok"><div class="text_popup">'+text_popup+'</div><div class="pole_botton"><table class="max_width"><tr><td><span id="save_data" class="button_submit bg_grey">'+button_save+'</span></td><td><span id="no_data" class="button_submit bg_grey">'+text_saved+'</span></td><td><span id="cancel_data" class="button_submit bg_grey">'+button_cancel+'</span></td></tr></table></div></div>';
    }
    
    function showLoadImg() {
        $("#parent_blok").css('display','block');
        $("#loader_img").show();
    }
    function hideLoadImg() {
        $("#parent_blok").css('display','none');
        $("#loader_img").hide();  
    }
    function showPopupBlok() {
        $("#parent_blok").css({"display":"block"});
        $("#popup_save").css({"display":"block"}).html(popupBlock());
    }
    function hidePopupBlok() {
        $("#parent_blok").css({"display":"none"});
        $("#popup_save").css({"display":"none"});
    }
    function preparPost() {
        var txt_post = "[name^='module_filter_vier'], [name^='filter_vier_'], [name^='description'], [name^='lang'], [name^='mark_description'], [name^='set_cats']";
        return $(txt_post).serialize();
    }
    function popupSave(tab_link) {
        {% if shabl == 'hand_links' or not save_popup %}
        hidePopupBlok();
        showLoadImg();
        redir_tab(tab_link);
        {% else %}
        showPopupBlok();
        $('#cancel_data').on('click', function(){
            tab_link = '';
            hidePopupBlok();
            if(sessionStorage.sestemp) {
                var id = sessionStorage.sestemp;
                $('.linc_').parent().removeClass('active');
                $('.linc__').parent().addClass('active');
                {% if shabl == 'base' %}
					$('#'+id).parent().addClass('active');
                {% else %}
					$('.linc').parent().removeClass('active');
                {% endif %}
            }
            else {
                var id = '0';
                $('#'+id).parent().addClass('active');
                $('.linc_').parent().removeClass('active');
            }
        });
        $('#save_data').on('click', function(){
            if(tab_link) {
                $("#popup_save").css({"display":"none"});
                var post_data = {};
                post_data[tab_link] = preparPost();
                ajs_post(post_data);
            }
        });
        $('#no_data').on('click', function(){
            if(tab_link) {
                hidePopupBlok();
                showLoadImg();
                redir_tab(tab_link);
            }
        });
        {% endif %}
    }
    function clearPoleAll() {
        $('#ssuu').empty();
        $('#error_warning').empty();
        $(".linkz").removeClass(error_param).removeAttr('tabindex');
        $("input.transl").removeClass(error_param).removeClass(color_red).removeAttr('tabindex');
        $("#error_class_separators").removeClass(error_param);
        $("#modal_window").css({"display":"none"}).empty();
        $("#view_display").css({"display":"none"});
    }
    function redir_tab(tab_url) {
        if(tab_url === undefined) return;
        var file = ((tab_url == 'base') || (tab_url == '')) ? '' : '/'+tab_url;
        var url_set = ajax_redir+file+ajax_token;
        location.assign(url_set);
    }
    function ajs_post(post_data, flag_sync, view_info) {
        if(flag_sync === undefined) {flag_sync = true;}
        if(view_info === undefined) {view_info = false;}
        if(!view_info) {
           clearPoleAll();
        }
        $.ajax({
            type: 'POST'
            ,url: ajax_put
            ,async: flag_sync
            ,data: post_data
            ,beforeSend: function(){
                if(!view_info) {
                    showLoadImg();
                }
            }
            ,success: function(data) {
                if(data.clear) {
                    $(data.clear).empty();
                }
                else if(data.error_warning) {
                    $('#error_warning').html(errorPole(data.error_warning));
                    if(data.duble_hand_links) {
                        var it = '{{ it }}';
                        $.each(data.duble_hand_links,function(key, data) {
                            $("#id_"+key).addClass(error_param).attr('tabindex', ++it);
                        });
                    }
                    if(data.error_class_separators) {
                        $("#error_class_separators").addClass(error_param);
                    }
                    if(data.duble_url) {
                        var it = '{{ it }}';
                        $.each(data.duble_url,function(key, data) {
                            if(key == 'dbl_fv') {
                                for(var i = 0; i < data.length; i++) {
                                    $("input[name='transl"+data[i]).attr('tabindex', ++it).addClass(error_param);
                                }
                            }
                            if(key == 'dbl_base') {
                                for(var i = 0; i < data.length; i++) {
                                    $("input[name='transl"+data[i]).attr('tabindex', ++it).addClass(color_red);
                                }
                            }
                        });
                    }
                }
                else if(data.icon_awesome) {
                    showModalWindow(data.icon_awesome, 'icon_modal');
                }
                if(data.succ) {
                    $('#ssuu').html(successPole(data.succ));
                }
                if(data.redir) {
                    redir_tab(data.redir);
                }
                else if(data.redir_time) {
                    setTimeout(function(){
                        redir_tab(data.redir_time);
                    },800);
                }
            }
            ,complete: function(){
                if(!view_info) {
                    hideLoadImg();
                }
            }
            {% if ajax_err %}
            ,error: function(jqXHR, textStatus) {
                var text_error = '';
                text_error += 'code: '+jqXHR.readyState;
                text_error += (jqXHR.status) ? ', status: '+jqXHR.status : '';
                text_error += (textStatus) ? ', textStatus: '+textStatus : '';
                text_error += (jqXHR.responseText) ? ', "responseText:" '+jqXHR.responseText : '';
                $('#error_warning').html(errorPole('ERROR!!! '+text_error));
            }
            {% endif %}
        });
    }
    
    $(function() {
        var tab_link = null;
        $('#primenit').on('click', function(){
            var post_data = {};
            post_data["primenit"] = preparPost();
            ajs_post(post_data);
        });
        {% for tab in arr_tab %}
            {{ '$("#' ~ tab ~ '").on("click", function(){ tab_link = "' ~ tab ~ '"; popupSave(tab_link);});' }}
        {% endfor %}
        {% if shabl in arr_tab %}
            {{ '$(".linc").on("click", function(){ var tab_link = "base"; popupSave(tab_link); });' }}
        {% endif %}
        $('.knopi').on('click', function(){
            if(sessionStorage.sestemp) {
                sessionStorage.removeItem('sestemp');
            }
        });
    });
    {% if shabl == 'base' %}
    $(function() {
        var n_list = 0;
        if(!sessionStorage.sestemp) {
            $('.linc').on('click', function(){
                var linc = this.id;
                sessionStorage.sestemp=linc;
            });
            n_list = sessionStorage.sestemp;
        }
        else {
            n_list = sessionStorage.sestemp;
            $('.linc').on('click', function(){
                var linc = this.id;
                sessionStorage.sestemp=linc;
            });
            n_list = sessionStorage.sestemp;
        }
        $('#tabs a').eq(n_list).click();
    });
    {% elseif shabl in arr_tab %}
        $('.linc').on('click', function(){
            sessionStorage.sestemp = this.id;
        });
    {% endif %}
</script>
    {% if shabl == 'seo_url' %}
    <script>
        $('#clear_table1').on('click', function() {
            var post_data = 'clear_table';
            ajs_post(post_data);
        });
        $('#add_transl1').on('click', function() {
            var post_data = {};
            {% if control_pusto %}
            var form_pole = $("[name^='transl']").serialize();
            {% else %}
            var form_pole = $(':text[name^="transl"]').filter(function() {return this.value;}).serialize();
            {% endif %}
            var post_data = {"add_transl" : form_pole};
            ajs_post(post_data);
        });
    </script>
    {% elseif shabl == 'style_filter' %}
    <script>
        $('.icon_awesome').on('click', function() {
            var post_data = {};
            post_data['icon_awesome'] = $(this).attr('id');
            ajs_post(post_data, true, true);
        });            
        $('body #modal_window').on('click', '.vibor_icon', function(e) {
            $(".vibor_icon").removeClass('action_icon');
            $(this).addClass('action_icon');
            var id_icon = $('#id_input_icon').text();
            var v_i = $('.vibor_icon.action_icon').children().attr('class');
            $('#'+id_icon).attr('value', v_i);
            $('#'+id_icon).parent().children('.prm_icon').children().attr('class', v_i);
        });
        function showModalWindow(html_text, cls_modal) {
            if(cls_modal === undefined) {cls_modal = 'defolt_modal';}
            $("#parent_blok").css({"display":"block"});
            $("#modal_window").css({"display":"block"}).html('<div class="modal_window '+cls_modal+'"><div class="body_modal">'+html_text+'</div><div class="foter_modal"><table><tr><td class="text_left"><span class="clear_icon vibor_icon"><i class=""></i></span>{{ text_clear }}</td><td class="text_center"></td><td class="text_right"><span class="close_modal" onclick="closeModal();"><i class="fa fa-close" aria-hidden="true"></i></span></td></tr></table></div></div>');
        }
        function closeModal() {
            $("#parent_blok").css({"display":"none"});
            $("#modal_window").css({"display":"none"}).empty();
        }
        function addPrimerCss(id_primer, key, name_id, name_id_default) {
            var suf = '';
            var value = $(name_id).val();
            suf = isSufPx(key);
            if(!value && name_id_default && !(name_id.indexOf('tab-default')+1)) {
                value = $(name_id_default).val();
            }
            if(!value) {
                if(suf) { value = ''; suf = '';}
            }
            $(id_primer).css(key, value+suf);
        }
        function displVide(flag, pole) {
            var $pole = $('#pole_data_'+pole+' .vide');
            var $pole1 = $('#pole_data_'+pole+' .choice');
            if(flag) {
                $pole.css({"display":"block"});
                $pole1.css({"display":"none"});
            }
            else {
                $pole.css({"display":"none"});
                $pole1.css({"display":"inline-block"});
            }
        }
        function isSufPx(str) {
            var suf = '';
            if(isStrText(str,'height')||isStrText(str,'width')||isStrText(str,'top')||isStrText(str,'radius')||isStrText(str,'padding')||(str=='bottom')) {
                suf = 'px';
            }
            return suf;
        }
        function isStrText(haystack, needle) {
            return (haystack.indexOf(needle)+1);
        }
        $(document).ready(function() {
            $('.blok_color').each(function() {
                $(this).minicolors({
                    control: $(this).attr('data-control') || 'hue',
                    defaultValue: $(this).attr('data-defaultValue') || '',
                    format: $(this).attr('data-format') || 'hex',
                    keywords: $(this).attr('data-keywords') || '',
                    inline: $(this).attr('data-inline') === 'true',
                    letterCase: $(this).attr('data-letterCase') || 'lowercase',
                    opacity: $(this).attr('data-opacity'),
                    position: $(this).attr('data-position') || 'bottom',
                    swatches: $(this).attr('data-swatches') ? $(this).attr('data-swatches').split('|') : [],
                    change: function(hex, opacity) {
                        var log;
                        try {
                            log = hex ? hex : 'transparent';
                            if( opacity ) log += ', ' + opacity;
                        } catch(e) {}
                    },
                    theme: 'default'
                });
            });
            $('.readonly_int').on('keypress', function(e) {
                var key = e.which || e.keyCode || e.button;
                if(!(key == 8 || key == 38 || key == 40 || key == 45 || key == 46 || (key > 47 && key < 58))) return false;
            });
            $('.readonly_int').bind('paste', function(e) {
                e.preventDefault();
            });
        });
        $('#panel_data.common_style a:first').tab('show');
    </script>
    {% elseif shabl == 'set_cats' %}
    <script>
        $('#set_cats_attrb tbody tr').each(function(index, element) {
        	setCats(index);
            setAttrib(index);
        });
        
        var row_attrb = {{ row_attrb }};
        function addPole() {
            var html = '';
            html += '<tr id="row_attrb_'+row_attrb+'">';
            html += '<td class="cats">';
            html += '<input type="text" autocomplete="off" name="set_cats[view_attrb]['+row_attrb+'][name]" value="" class="form-control" />';
            html += '<input type="hidden" name="set_cats[view_attrb]['+row_attrb+'][category_id]" value="" />';
            html += '</td>';
            html += '<td class="attrb">';
            html += '<input type="text" name="attrb['+row_attrb+'][name]" value="" placeholder="" class="form-control" />';
            html += '<div id="attrb_cat_'+row_attrb+'" class="imt_textarea"></div>';
            html += '</td>';
            html += '<td><button type="button" onclick="$(\'#row_attrb_'+row_attrb+'\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
            html += '</tr>';
            $('#set_cats_attrb tbody').append(html);
            setCats(row_attrb);
            setAttrib(row_attrb);
            row_attrb++;
        }
        
        $('#set_cats_attrb').delegate('.fa-minus-circle', 'click', function() {
        	$(this).parent().remove();
        });
        
        function setCats(row_attrb) {
            var input_category = '[name="set_cats[view_attrb]['+row_attrb+'][name]"]';
            var input_category_id = '[name="set_cats[view_attrb]['+row_attrb+'][category_id]"]';
            $(input_category).autocomplete({
                source: function(request, response) {
                    $.ajax({
            			url: '{{ ajax_autocomplete }}'+'&set_cats='+encodeURIComponent(request),
            			dataType: 'json',
            			success: function(json) {
            				response($.map(json, function(item) {
            					return {
            						label: item.name,
            						value: item.category_id
            					}
            				}));
            			}
            		});
            	},
            	select: function(item) {
            		$(input_category).val(item.label);
                    $(input_category_id).val(item.value);
            	}
            });
        }

        function setAttrib(row_attrb) {
            var input_attrb = 'input[name="attrb['+row_attrb+'][name]"]';
            $(input_attrb).autocomplete({
        		source: function(request, response) {
                	$.ajax({
                        url: '{{ ajax_autocomplete }}'+'&set_attrb='+encodeURIComponent(request),
                		dataType: 'json',
                		success: function(json) {
                			response($.map(json, function(item) {
                				return {
                					category: item.attribute_group,
                					label: item.name,
                					value: item.attribute_id
                				}
                			}));
                		}
                	});
        		},
        		select: function(item) {
		            var label_item = item.label, value_item = item.value;
                    htmlAttrbRow(input_attrb, row_attrb, label_item, value_item);
          		}
        	});
            function htmlAttrbRow(input_attrb, row_attrb, label_item, value_item) {
                var el_attrib = 'row_attrb_'+row_attrb+'_'+value_item;
                $(input_attrb).val('');
        		$('#'+el_attrib).remove();
                $('#attrb_cat_'+row_attrb).append('<div id="'+el_attrib+'"><i class="fa fa-minus-circle curs_point color_red"></i> '+label_item+'<input type="hidden" name="set_cats[view_attrb]['+row_attrb+'][attrb][]" value="'+value_item+'"></div>');
            }
        }
    </script>
    {% elseif shabl == 'hand_links' %}
    <script>
        var filter_url = '{{ filter_url }}';
        function popupBlock2(text_popup, button_yes, button_cancel) {
        return '<div class="text_center popup_blok"><div class="text_popup">'+text_popup+'</div><div class="pole_botton"><table class="max_width"><tr><td><span id="action_yes" class="button_submit bg_grey">'+button_yes+'</span></td><td></td><td><span id="action_cancel" class="button_submit bg_grey">'+button_cancel+'</span></td></tr></table></div></div>';
    }
        function add_hand_links(id) {
            var linkz = $('#pole_row_'+id+' .linkz').val();
            var route = $('#select_hl').val();
            var form_pole;
            if(!route) {
                $('#error_warning').html(errorPole('!!!ERROR {{ help_hl_route }}'));
            }
            else if(linkz.length) {
                form_pole = $("form [name^='hand_links']").serialize();
                var post_data = {};
                var pole = 'add_hand_links';
                if(id) {
                    pole = 'up_hand_links';
                }
                post_data[pole] = form_pole;
                ajax_token +=filter_url;
                ajs_post(post_data);
            }
            else {
                //.css({"border": "1px solid red"})
                $('#pole_row_'+id+' .linkz').focus();
                $('#error_warning').html(errorPole('!!!ERROR {{ help_hl_no_link }}'));
            }
            animTop(100);
        }
        function removPole(id) {
            $('#pole_row_'+id).remove();
            clearPoleAll();
        }
        
        function edit_hand_links(lang_id, id) {
            clearPoleAll();
            var id_textarea = 'hand_links_'+id+'_'+lang_id,
                $id_textarea = $('#'+id_textarea),
                bott_id = '#bot_'+lang_id+'_'+id,
                $bott_id = $(bott_id);
            $id_textarea.toggleClass("open_red");
            $bott_id.toggleClass("btn-primary btn-warning");
            $(bott_id+' + span').toggleClass("color_red");
            {% if ckeditor %}
                if(!del_redakt_ckedit($id_textarea)) {
                    ckeditorInit(id_textarea, token);
                }
            {% else %}
                if("destroy" in $($id_textarea)) {
                    var text_textarea = '';
                    if($id_textarea.summernote('isEmpty')) {}
                    text_textarea = $id_textarea.destroy().text();
                    if(!text_textarea) {
                        text_textarea = $id_textarea.val();
                    }
                    //var shpr = /<p><br><\/p>/g;$id_textarea.val(text_textarea.replace(shpr, ''));
                    $id_textarea.val(text_textarea);
            	} 
                else {
                    //rezerv
                    //reset
                    $id_textarea.summernote('destroy');
            	}
                initSummernote('#'+id_textarea+'.open_red');
            {% endif %}
        }
        
        function redHandLinks(id) {
            var lang_id;
            var pole;
            html = '<tr id="pole_row_'+id+'" class="bg_pole_grey">';
            html += '<td><table class="max_width">';
            {% for pole in poles_hl %}
                pole = '{{ pole }}';
                html += '<tr><td><div class="jir">{{ poles_hl_name['legend'][pole] }}<span class="helpis"  rel="tooltip" title="{{ poles_hl_name['help'][pole] }}"></span></div></td>';
                html += '<td class="max_width">';
                {% if pole == 'route' %}
                html += '<select id="select_hl" name="hand_links['+id+']['+pole+']">';
                html += '<option  disabled="disabled" selected="selected" style="display:none;" value=""> --- </option>';
                    {% for key, val in name_route %}
                html += '<option value="{{ key }}">{{ val }}</option>';
                    {% endfor %}
                html += '</select>';
                html += '<input id="input_route_id" type="hidden" name="hand_links['+id+'][route_id]" value="">';
                html += '<div id="help_name_route" class="max_width"><div>{{ help_name_route }}</div><input id="input_name_route" type="text" class="max_width imt_input" autocomplete="off" name="name_route['+id+'][name_route]" value=""></div>';
                {% elseif pole == 'link' %}
                html += '<input tabindex="" class="linkz max_width imt_input" name="hand_links['+id+']['+pole+']" type="text" value="" /></td>';
                {% else %}
                html += '<input tabindex="" class="max_width imt_input" name="hand_links['+id+']['+pole+']" type="text" value="" /></td>';
                {% endif %}
                html += '</tr>';
            {% endfor %}
            html += '</table></td>';
            html += '<td>';
            {% for language in languages %}
            lang_id = '{{ language['language_id'] }}';
            html += '<table>';
                {% for k, pole in poles_landing %}
                    pole = '{{ pole }}';
            html += '<tr>';
                    {% if k == 0 %}
            html += '<td class="group_attr" rowspan="{{ c_l }}"><img src="{{ language['src_img'] }}" alt="{{ language['name'] }}" /></td>';
                    {% endif %}
                    {% if pole == 'discrib' %}
            html += '<td class="jir bord_bot">{{ entry_description }}</td>';
            html += '<td><button id="bot_'+lang_id+'_'+id+'" class="btn-primary redakt" onclick="edit_hand_links('+lang_id+','+id+')" type="button"><i class="fa fa-pencil"></i></button><span> - {{ text_visual_editor }}</span></td>';
            html += '</tr><tr>';
            html += '<td colspan="2"><textarea class="max_width hand_links" id="hand_links_'+id+'_'+lang_id+'" name="hand_links_lang['+id+']['+lang_id+']['+pole+']" tabindex=""></textarea></td>';
                    {% else %}
                        {% set help_pole = '' %}
                        {% if pole == 'name' %}
                            {% set help_pole = '<span class="helpis"  rel="tooltip" title="' ~ help_hl_name ~ '"></span>' %}
                        {% endif %}
            html += '<td class="jir">'+pole+' {{ help_pole }}</td>';
            html += '<td class="max_width"><input tabindex="" class="max_width" name="hand_links_lang['+id+']['+lang_id+']['+pole+']" type="text" value="" /></td>';
                    {% endif %}
            html += '</tr>';
                {% endfor %}
            html += '</table>';
            {% endfor %}
            html += '</td>';
            html += '<td class="text_center">';
            html += '<button type="button" onclick="add_hand_links('+id+')" rel="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>';
            html += '<div class="pading_10"></div>';
            html += '<button type="button" onclick="removPole('+id+')" rel="tooltip" title="{{ button_cancel }}" class="btn btn-warning"><i class="fa fa-reply"></i></button>';
            html += '</td>';
            html += '</tr>';
            $('#tb_pole_red').empty().prepend(html);
            $('#tb_pole_red #help_name_route').css({"display":"none"});
            routePole('#tb_pole_red','#input_name_route','#input_route_id');
        }
        
        $(function() {
            $('#tb_pole_red').tooltip({
                selector: "[rel=tooltip]",
                placement: "top"
            });
        });
        
        function isRouteDisplay(route_id, select) {
            if(route_id && route_id.indexOf('_id') > 0 ) {
                $(select).css({"display":"block"});
            }
            else {
                $(select).css({"display":"none"});
            }
        }
        $('#btn_view_copy').on('click', function() {
        	$('#ssuu').empty();
            $('#error_warning').empty();
            $('#view_display').slideToggle(100);
        });
        $('#copy_tabl_hl').on('click', function() {
            $('#ssuu').empty();
            $('#error_warning').empty();
            $('#tb_pole_red').empty();
        	var post_data = 'copy_tabl_hl';
            ajs_post(post_data);
        });
        $('#clear_tabl_hl').on('click', function() {
            $('#ssuu').empty();
            $('#error_warning').empty();
            $('#tb_pole_red').empty();
            del_h_l(0);
        });
        $('#tb_pole_red').on('change', '#select_hl', function(){
            var route_id = $(this).val();
            isRouteDisplay(route_id, '#tb_pole_red #help_name_route');
            $('#input_route_id').val('');
            $('#input_name_route').val('');
        });
        
        function routePole(global_pole, input_name_route, input_route_id) {
            clearPoleAll();
            $(global_pole+' '+input_name_route).autocomplete({
                source: function(request, response) {
                    var route_select = $(global_pole+' select').val();
                    if(route_select.indexOf('_id') > 0 ) {
                        $.ajax({
                			url: '{{ ajax_autocomplete }}'+'&route_select='+route_select+'&name_route='+encodeURIComponent(request),
                			dataType: 'json',
                			success: function(json) {
                				response($.map(json, function(item) {
                					return {
                						label: item.name,
                						value: item.route_id
                					}
                				}));
                			}
                		});
                    }
            	},
            	select: function(item) {
            		$(input_name_route).val(item.label);
                    $(input_route_id).val(item.value);
            	}
            });
        }
        
        function edit_h_l(id, flag_copy) {
            clearPoleAll();
            if(id) {
                var id_r = id;
                if(flag_copy) {
                    id_r = 0;
                }
                redHandLinks(id_r);
                var lang_id;
                var pole;
                //.focus();
                {% for pole in poles_hl %}
                    pole = '{{ pole }}';
                    $('[name="hand_links['+id_r+']['+pole+']"]').val($('#'+pole+'_'+id).text());
                {% endfor %}
                $('[name="hand_links['+id_r+'][route_id]"]').val($('#route_id_'+id).text());
                $('[name="name_route['+id_r+'][name_route]"]').val($('#name_route_'+id).text());
                {% for language in languages %}
                    lang_id = '{{ language['language_id'] }}';
                        {% for pole in poles_landing %}
                            pole = '{{ pole }}';
                        $('[name="hand_links_lang['+id_r+']['+lang_id+']['+pole+']"]').val($('#hand_links_'+id+'_'+pole+'_'+lang_id).text());
                        {% endfor %}
                {% endfor %}
            }
            var route_id = $('#tb_pole_red #select_hl').val();
            isRouteDisplay(route_id, '#tb_pole_red #help_name_route');
            animTop(200);
        }

        function del_h_l(id) {
            var text_popup = '{{ text_remove }}', button_yes = '{{ button_yes }}', button_cancel = '{{ button_cancel }}';
            showPopupBlok2(text_popup, button_yes, button_cancel);
            $('#action_cancel').on('click', function(){
                hidePopupBlok();
            });
            $('#action_yes').on('click', function(){
                hidePopupBlok();
                if(id) {
                    $('#polerow_'+id).remove();
                    var post_data = {};
                    var pole = 'del_hand_links';
                    post_data[pole] = id;
                    ajax_token +=filter_url;
                    ajs_post(post_data);
                    animTop(130);
                }
                else if(id === 0) {
                    var post_data = 'clear_tabl_hl';
                    ajs_post(post_data);
                    //animTop(130);
                }
            });
        }
        function showPopupBlok2(text_popup, button_yes, button_cancel) {
            $("#parent_blok").css({"display":"block"});
            $("#popup_save").css({"display":"block"}).html(popupBlock2(text_popup, button_yes, button_cancel));
        }
        //filter
        var url_filter = '{{ url_filter }}';
        var count_req = 1;
        $('#button-filter').on('click', function() {
        	var url = '';
            var filter_link = $('[name="filter_link"]').val();
            var filter_short_link = $('[name="filter_short_link"]').val();
            var filter_route = $('[name="filter_route"]').val();
            var filter_route_id = $('[name="filter_route_id"]').val();
            var filter_name_route = $('[name="filter_name_route"]').val();
        	if(filter_link.length > count_req) {
        		url += '&filter_link='+encodeURIComponent(filter_link);
        	}
            if(filter_short_link.length > count_req) {
                url += '&filter_short_link='+encodeURIComponent(filter_short_link);
        	}
            if(filter_route) {
                url += '&filter_route='+filter_route;
            }
            if(filter_route_id && filter_name_route) {
                url += '&filter_route_id='+filter_route_id;
            }
            
            if(url) {
                location.assign(url_filter+url);
            }
        });
        $('#button-reset').on('click', function() {
        	location.assign(url_filter);
        });
        
        $(document).ready(function() {
            var global_pole = '#blok_filter';
            var input_name_route = '[name="filter_name_route"]';
            var input_route_id = '[name="filter_route_id"]';
            isRouteDisplay($(global_pole+' select').val(), input_name_route);
        
            $(global_pole).on('change', 'select', function(){
                var route_id = $(this).val();
                isRouteDisplay(route_id, input_name_route);
                $(input_route_id).val('');
                $(input_name_route).val('');
            });
            
            routePole(global_pole, input_name_route, input_route_id);
            
            $('input[name="filter_link"]').autocomplete({
                source: function(request, response) {
                    if(request.length > count_req) {
                        $.ajax({
                			url: '{{ ajax_autocomplete }}'+'&filter_link='+encodeURIComponent(request),
                			dataType: 'json',
                			success: function(json) {
                				response($.map(json, function(item) {
                					return {
                						label: item['link'],
                						value: item['id']
                					}
                				}));
                			}
                		});
                    }
            	},
            	select: function(item) {
            		$('input[name="filter_link"]').val(item['label']);
            	}
            });
            $('input[name="filter_short_link"]').autocomplete({
                source: function(request, response) {
                    if(request.length > count_req) {
                        $.ajax({
                			url: '{{ ajax_autocomplete }}'+'&filter_short_link='+encodeURIComponent(request),
                			dataType: 'json',
                			success: function(json) {
                				response($.map(json, function(item) {
                					return {
                						label: item['link'],
                						value: item['id']
                					}
                				}));
                			}
                		});
                    }
            	},
            	select: function(item) {
            		$('input[name="filter_short_link"]').val(item['label']);
            	}
            });
        });
    </script>
    {% elseif shabl == 'base' %}
    <script>
        $('#clear_cache1').on('click', function() {
            var post_data = 'clear_cache';
            ajs_post(post_data);
        });
        $('#gen_text_id1').on('click', function() {
            $('#ssuu').empty();
            var attr_id = [];
            $("input[name='filter_vier_setting[attrb][view][]']:checked").each(function() {
                    attr_id.push($(this).val());
                }
            );
            if(attr_id.length) {
                var post_data_dop = '';
                var separ = $("input[name='filter_vier_setting[attrb][separ]']").val();
                var html_tag = $("input[name='filter_vier_setting[html_tag]']:checked").val();
                var diap_marks = '';
                {% if flag_diap %}
                    diap_marks += '&diap_mark='+$("input[name='filter_vier_setting[attrb][diap_mark]']").val();
                    diap_marks += '&diap_step='+$("input[name='filter_vier_setting[attrb][diap_step]']").val();
                {% endif %}
                if(separ) {
                    post_data_dop += '&separ='+separ;
                }
                if(html_tag) {
                    post_data_dop += '&html_tag='+html_tag;
                }
                if(diap_marks) {
                    post_data_dop += diap_marks;
                }
                var post_data = '';
                var chunk = 0;
                if(chunk) {
                    var ch_arr = chunkArray(attr_id, chunk);
                    var i, j = ch_arr.length;
                    for(i = 0; i < j; i++) {
                        post_data = 'checks_attr='+JSON.stringify(ch_arr[i]);
                        if(i > 0) {
                            post_data += '&add_chast=1';
                        }
                        post_data += post_data_dop;
                        ajs_post(post_data, false);
                    }
                }
                else {
                    post_data = 'checks_attr='+JSON.stringify(attr_id);
                    post_data += post_data_dop;
                    ajs_post(post_data);
                }
            }
        });
        function chunkArray(arr, chunk) {
            var i, j = arr.length, tmp = [];
            for(i = 0; i < j; i += chunk) {
                tmp.push(arr.slice(i, i + chunk));
            }
            return tmp;
        }
        function edit_redakt(lang_id, pole) {
            var id_textarea = 'description'+lang_id+'_'+pole,
                $id_textarea = $('#'+id_textarea),
                bott_id = '#bot_'+lang_id+'_'+pole,
                $bott_id = $(bott_id);
            $id_textarea.toggleClass("open_red");
            $bott_id.toggleClass("btn-primary btn-warning");
            $(bott_id+' + span').toggleClass("color_red");
            {% if ckeditor %}
                if(!del_redakt_ckedit($id_textarea)) {
                    ckeditorInit(id_textarea, token);
                }
            {% else %}
                if("destroy" in $($id_textarea)) {
                    var text_textarea = '';
                    if($id_textarea.summernote('isEmpty')) {}
                    text_textarea = $id_textarea.destroy().text();
                    if(!text_textarea) {
                        text_textarea = $id_textarea.val();
                    }
                    //var shpr = /<p><br><\/p>/g;$id_textarea.val(text_textarea.replace(shpr, ''));
                    $id_textarea.val(text_textarea);
            	} 
                else {
                    //rezerv
                    //reset
                    $id_textarea.summernote('destroy');
            	}
                initSummernote('#'+id_textarea+'.open_red');
            {% endif %}
        }
        $('#language a:first').tab('show');
        $('#lang_data a:first').tab('show');
    </script>
    {% endif %}
    {% if shabl == 'base' or shabl == 'hand_links' %}
    <script>
    {% if ckeditor %}
        function del_redakt_ckedit(el) {
            var result = false;
            $(el).each(function(index, element) {
                var ckredactor = CKEDITOR.instances[$(element).attr("id")];
                if(ckredactor) {
                    result = ckredactor;
                    ckredactor.destroy();
                    ckredactor = null;
                }
            });
            return result;
        }
    {% else %}
        function initSummernote(elem_id) {
            $(elem_id).each(function() {
                $(elem_id).summernote({
                    {% if file_lang %}
                    lang: '{{ file_lang }}',
                    {% endif %}
        			disableDragAndDrop: true,
        			height: 300,
        			emptyPara: '',
        			codemirror: {
        				mode: 'text/html',
        				htmlMode: true,
        				lineNumbers: true,
        				theme: 'monokai'
        			},			
        			fontsize: ['8', '9', '10', '11', '12', '14', '16', '18', '20', '24', '30', '36', '48' , '64'],
        			toolbar: [
        				['style', ['style']],
        				['font', ['bold', 'underline', 'clear']],
        				['fontname', ['fontname']],
        				['fontsize', ['fontsize']],
        				['color', ['color']],
        				['para', ['ul', 'ol', 'paragraph']],
        				['table', ['table']],
        				['insert', ['link', 'image', 'video']],
        				['view', ['fullscreen', 'codeview', 'help']]
        			],
        			popover: {
                   		image: [
        					['custom', ['imageAttributes']],
        					['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],
        					['float', ['floatLeft', 'floatRight', 'floatNone']],
        					['remove', ['removeMedia']]
        				],
        			},			
        			buttons: {
            			image: function() {
        					var ui = $.summernote.ui;
        					var button = ui.button({
        						contents: '<i class="note-icon-picture" />',
                                {% if file_lang %} 
                                    tooltip: $.summernote.lang['{{ file_lang }}'].image.image,
                                {% else %} 
                                    tooltip: $.summernote.lang[$.summernote.options.lang].image.image,
                                {% endif %}
        						click: function () {
        							$('#modal-image').remove();
        							$.ajax({
        								url: 'index.php?route=common/filemanager'+ajax_token,
        								dataType: 'html',
        								beforeSend: function() {
        									$('#button-image i').replaceWith('<i class="fa fa-circle-o-notch fa-spin"></i>');
        									$('#button-image').prop('disabled', true);
        								},
        								complete: function() {
        									$('#button-image i').replaceWith('<i class="fa fa-upload"></i>');
        									$('#button-image').prop('disabled', false);
        								},
        								success: function(html) {
        									$('body').append('<div id="modal-image" class="modal">' + html + '</div>');
        									
        									$('#modal-image').modal('show');
        									
        									$('#modal-image').delegate('a.thumbnail', 'click', function(e) {
        										e.preventDefault();
        										
        										$(elem_id).summernote('insertImage', $(this).attr('href'));
        																	
        										$('#modal-image').modal('hide');
        									});
        								}
        							});						
        						}
        					});
        					return button.render();
        				}
          			}
                });
            });
        }
    {% endif %}
    </script>
    {% endif %}
{% endif %}
{{ footer }}