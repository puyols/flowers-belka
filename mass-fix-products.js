const fs = require('fs');

// Читаем файл с данными товаров
let content = fs.readFileSync('src/data/products-parsed.ts', 'utf8');

// Список товаров для массового исправления - удаляем шаблонные описания
const templateDescriptions = [
  'изысканная цветочная композиция</h2><p>Изысканный букет из свежих цветов. Идеальный подарок для выражения ваших чувств и создания особенного настроения. Этот букет создан с особым вниманием к деталям и представляет собой гармоничную композицию из отборных цветов.</p><h3>Особенности композиции:</h3><ul><li><strong>Отборные цветы</strong> – только лучшие экземпляры</li><li><strong>Гармоничное сочетание</strong> – продуманная композиция</li><li><strong>Профессиональная работа</strong> – мастерство флористов</li><li><strong>Свежесть</strong> – гарантия качества</li></ul><div class="bg-blue-50 border-l-4 border-blue-400 p-4 my-4"><p><strong>Качество:</strong> Мы используем только свежие цветы высочайшего качества.</p></div><p>Если нужных цветов не окажется в наличии, мы создадим для вас уникальный букет, учитывая ваши пожелания!</p><p><em>Подарите красоту и изысканность с этой прекрасной композицией.</em></p>',
  
  'классическая красота роз</h2><p>Элегантный букет из отборных роз. Классический подарок для выражения чувств. Розы – это вечная классика, символ любви, красоты и совершенства, который никогда не выходит из моды.</p><h3>Преимущества роз:</h3><ul><li><strong>Классическая красота</strong> – вечная элегантность</li><li><strong>Универсальность</strong> – подходят для любых случаев</li><li><strong>Символичность</strong> – выражают глубокие чувства</li><li><strong>Аромат</strong> – неповторимый розовый запах</li></ul><div class="bg-red-50 border-l-4 border-red-400 p-4 my-4"><p><strong>Классика:</strong> Розы остаются самым популярным выбором для выражения чувств.</p></div><p><em>Выразите свои чувства с классическими розами. Пусть их красота говорит за вас.</em></p>',
  
  'изысканная цветочная композиция</h2><p>Элегантный весенний букет цветов, собранный с особой заботой. Подарит радость и улыбку вашим близким. Этот букет создан с особым вниманием к деталям и представляет собой гармоничную композицию из отборных цветов.</p><h3>Особенности композиции:</h3><ul><li><strong>Отборные цветы</strong> – только лучшие экземпляры</li><li><strong>Гармоничное сочетание</strong> – продуманная композиция</li><li><strong>Профессиональная работа</strong> – мастерство флористов</li><li><strong>Свежесть</strong> – гарантия качества</li></ul><div class="bg-blue-50 border-l-4 border-blue-400 p-4 my-4"><p><strong>Качество:</strong> Мы используем только свежие цветы высочайшего качества.</p></div><p>Если нужных цветов не окажется в наличии, мы создадим для вас уникальный букет, учитывая ваши пожелания!</p><p><em>Подарите красоту и изысканность с этой прекрасной композицией.</em></p>'
];

// Заменяем все шаблонные описания на заглушку
templateDescriptions.forEach(template => {
  const regex = new RegExp(template.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
  content = content.replace(regex, 'TEMPLATE_DESCRIPTION_TO_REPLACE');
});

// Обновляем размеры изображений с 500x500 на 550x550
content = content.replace(/-500x500/g, '-550x550');

// Сохраняем файл
fs.writeFileSync('src/data/products-parsed.ts', content);

console.log('Массовое исправление завершено!');
console.log('- Заменены шаблонные описания на заглушки');
console.log('- Обновлены размеры изображений с 500x500 на 550x550');
console.log('');
console.log('Теперь нужно вручную заменить заглушки TEMPLATE_DESCRIPTION_TO_REPLACE на реальные описания с сайта.');
